<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rent Curves - Calculate Your Crop Rent Instantly</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Core palette - Dynamic Theme */
            --midnight: #030806;
            --forest-deep: #071410;
            --forest: #0d261e;
            --emerald: #059669;
            --emerald-light: #10b981;
            --emerald-glow: #34d399;

            /* Gold spectrum */
            --gold-dark: #92400e;
            --gold: #d97706;
            --gold-bright: #f59e0b;
            --gold-light: #fbbf24;

            /* Neutrals */
            --cream: #fef7ed;
            --cream-muted: #f5ebe0;
            --sage: #6b8068;
            --sage-light: #9caa98;

            /* Effects */
            --glow-emerald: 0 0 60px rgba(16, 185, 129, 0.4);
            --glow-gold: 0 0 80px rgba(251, 191, 36, 0.5);
            --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);

            /* Dynamic Theme Colors - Will be updated by JS */
            --theme-primary: #059669;
            --theme-secondary: #10b981;
            --theme-accent: #34d399;
            --theme-glow: rgba(16, 185, 129, 0.6);
            --theme-bg-1: rgba(5, 150, 105, 0.6);
            --theme-bg-2: rgba(16, 185, 129, 0.5);
            --theme-bg-3: rgba(52, 211, 153, 0.4);
            --theme-particle: #10b981;
            --theme-speed: 0.5s;
        }

        /* Theme transitions for dynamic color changes */
        .logo-mark, .logo-text span, .btn-header, .hero-title .accent,
        .instruction, .instruction-icon, .calculate-btn, .rent-value,
        .cta-btn, .gradient-orb, .wheel-ring,
        .nav-links a::after, .hero-tag svg, .input-icon, .rent-title,
        .theme-gradient, .center-glow, .theme-lines {
            transition: all var(--theme-speed) ease !important;
        }

        /* Separate transition for crop-item-inner to not interfere with shape animations */
        .crop-item-inner {
            transition: background var(--theme-speed) ease,
                        border-color var(--theme-speed) ease,
                        box-shadow var(--theme-speed) ease,
                        transform 0.3s ease !important;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(180deg, 
                color-mix(in srgb, var(--theme-primary) 8%, var(--midnight)) 0%,
                var(--midnight) 30%,
                var(--midnight) 70%,
                color-mix(in srgb, var(--theme-secondary) 5%, var(--midnight)) 100%
            );
            min-height: 100vh;
            color: var(--cream);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            transition: background 0.6s ease;
        }

        /* ========================================
           ATMOSPHERIC BACKGROUND - DRAMATIC THEME
        ======================================== */
        .atmosphere {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        /* Main background gradient overlay - changes with theme */
        .theme-gradient {
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 50% 0%, var(--theme-bg-1) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 100%, var(--theme-bg-2) 0%, transparent 50%),
                radial-gradient(ellipse 50% 50% at 20% 80%, var(--theme-bg-3) 0%, transparent 50%),
                radial-gradient(ellipse 100% 100% at 50% 50%, rgba(0,0,0,0) 0%, var(--midnight) 70%);
            opacity: 1;
            transition: background 0.6s ease;
        }

        /* Ambient glow around center */
        .center-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 800px;
            height: 800px;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, var(--theme-glow) 0%, transparent 60%);
            opacity: 0.4;
            filter: blur(60px);
            transition: background 0.6s ease, opacity 0.6s ease;
            animation: pulse-glow 4s ease-in-out infinite alternate;
        }

        @keyframes pulse-glow {
            0% { opacity: 0.3; transform: translate(-50%, -50%) scale(0.9); }
            100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1.1); }
        }

        /* Accent lines */
        .theme-lines {
            position: absolute;
            inset: 0;
            background: 
                linear-gradient(90deg, transparent 0%, var(--theme-glow) 50%, transparent 100%);
            opacity: 0.1;
            top: 20%;
            height: 1px;
            transition: background 0.6s ease;
        }

        .gradient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.8;
            animation: float-orb 20s ease-in-out infinite;
            transition: background 0.6s ease;
        }

        .gradient-orb--emerald {
            width: 500px;
            height: 500px;
            background: var(--theme-bg-1);
            top: -100px;
            left: -50px;
            animation-delay: 0s;
        }

        .gradient-orb--gold {
            width: 450px;
            height: 450px;
            background: var(--theme-bg-2);
            bottom: -100px;
            right: -50px;
            animation-delay: -10s;
        }

        .gradient-orb--sage {
            width: 350px;
            height: 350px;
            background: var(--theme-bg-3);
            top: 40%;
            right: 10%;
            animation-delay: -5s;
        }

        @keyframes float-orb {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.05); }
            66% { transform: translate(-20px, 20px) scale(0.95); }
        }

        
        /* ========================================
           CROP-SPECIFIC ANIMATED LANDSCAPES
           Sophisticated SVG-based backgrounds
        ======================================== */
        .crop-scene {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
            opacity: 0;
            transition: opacity 1.2s ease;
        }

        .crop-scene.active {
            opacity: 1;
        }

        /* Shared scene layers */
        .scene-layer {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .scene-layer--back { z-index: 1; }
        .scene-layer--mid { z-index: 2; }
        .scene-layer--front { z-index: 3; }
        .scene-layer--particles { z-index: 4; }
        .scene-layer--light { z-index: 5; mix-blend-mode: overlay; }

        /* ===== CORN FIELD SCENE - ENHANCED ===== */
        #corn-scene .scene-bg {
            background:
                radial-gradient(ellipse 120% 60% at 50% 0%, rgba(251, 191, 36, 0.25) 0%, transparent 50%),
                radial-gradient(ellipse 80% 40% at 30% 20%, rgba(245, 158, 11, 0.15) 0%, transparent 40%),
                radial-gradient(ellipse 80% 40% at 70% 30%, rgba(217, 119, 6, 0.12) 0%, transparent 40%),
                linear-gradient(180deg, rgba(251, 191, 36, 0.1) 0%, transparent 60%);
        }

        /* Dramatic corn stalks */
        .corn-stalk {
            position: absolute;
            bottom: 0;
            transform-origin: bottom center;
            animation: corn-sway-wind 5s ease-in-out infinite;
        }

        .corn-stalk svg {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 0 30px rgba(251, 191, 36, 0.6));
        }

        /* More stalks with varied positions */
        .corn-stalk--1 { left: 2%; height: 55vh; animation-delay: 0s; z-index: 3; }
        .corn-stalk--2 { left: 7%; height: 62vh; animation-delay: 0.2s; z-index: 4; }
        .corn-stalk--3 { left: 13%; height: 48vh; animation-delay: 0.4s; z-index: 2; }
        .corn-stalk--4 { left: 19%; height: 52vh; animation-delay: 0.6s; z-index: 3; }
        .corn-stalk--5 { right: 3%; height: 58vh; animation-delay: 0.1s; z-index: 4; }
        .corn-stalk--6 { right: 9%; height: 65vh; animation-delay: 0.3s; z-index: 5; }
        .corn-stalk--7 { right: 15%; height: 50vh; animation-delay: 0.5s; z-index: 3; }
        .corn-stalk--8 { right: 22%; height: 54vh; animation-delay: 0.7s; z-index: 2; }

        /* Wind-like synchronized sway */
        @keyframes corn-sway-wind {
            0%, 100% { transform: rotate(-4deg) translateX(0); }
            25% { transform: rotate(-1deg) translateX(5px); }
            50% { transform: rotate(4deg) translateX(10px); }
            75% { transform: rotate(1deg) translateX(5px); }
        }

        /* Enhanced falling kernels with glow trail */
        .corn-kernel {
            position: absolute;
            width: 24px;
            height: 32px;
            background: linear-gradient(145deg, #fde047 0%, #fbbf24 30%, #f59e0b 60%, #d97706 100%);
            border-radius: 45% 45% 50% 50%;
            animation: kernel-fall-enhanced 10s linear infinite;
            opacity: 0;
            box-shadow:
                0 0 20px rgba(251, 191, 36, 0.8),
                0 0 40px rgba(251, 191, 36, 0.4),
                inset 0 -5px 10px rgba(217, 119, 6, 0.5);
        }

        .corn-kernel::after {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 30px;
            background: linear-gradient(to bottom, transparent, rgba(251, 191, 36, 0.6));
            border-radius: 2px;
            filter: blur(2px);
        }

        @keyframes kernel-fall-enhanced {
            0% {
                transform: translateY(-100px) rotate(0deg) scale(0.6);
                opacity: 0;
            }
            5% { opacity: 0.95; transform: translateY(-50px) rotate(30deg) scale(0.8); }
            15% { opacity: 1; }
            85% { opacity: 0.8; }
            100% {
                transform: translateY(105vh) rotate(720deg) scale(1.1);
                opacity: 0;
            }
        }

        /* Golden pollen/dust with shimmer */
        .corn-dust {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, #fde047 0%, #fbbf24 50%, transparent 70%);
            border-radius: 50%;
            animation: dust-shimmer 15s ease-in-out infinite;
            filter: blur(1px);
        }

        .corn-dust::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: inherit;
            border-radius: inherit;
            filter: blur(3px);
            opacity: 0.5;
        }

        @keyframes dust-shimmer {
            0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.4;
            }
            20% {
                transform: translate(60px, -40px) scale(1.3);
                opacity: 0.8;
            }
            40% {
                transform: translate(-40px, -80px) scale(0.8);
                opacity: 0.5;
            }
            60% {
                transform: translate(30px, -50px) scale(1.1);
                opacity: 0.7;
            }
            80% {
                transform: translate(-20px, -30px) scale(0.9);
                opacity: 0.6;
            }
        }

        /* Dramatic sun rays */
        .corn-rays {
            position: absolute;
            top: -20%;
            left: 50%;
            width: 250%;
            height: 120%;
            transform: translateX(-50%);
            background: repeating-conic-gradient(
                from 0deg at 50% 0%,
                rgba(251, 191, 36, 0.08) 0deg 2deg,
                transparent 2deg 8deg
            );
            animation: rays-rotate-slow 90s linear infinite;
            mix-blend-mode: screen;
        }

        .corn-rays::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            height: 60%;
            background: radial-gradient(ellipse 60% 40% at 50% 0%, rgba(253, 224, 71, 0.2) 0%, transparent 70%);
        }

        @keyframes rays-rotate-slow {
            0% { transform: translateX(-50%) rotate(0deg); }
            100% { transform: translateX(-50%) rotate(360deg); }
        }

        /* Floating corn silk */
        .corn-silk {
            position: absolute;
            width: 2px;
            height: 40px;
            background: linear-gradient(to bottom, #fde047 0%, rgba(253, 224, 71, 0.3) 100%);
            border-radius: 1px;
            animation: silk-float 8s ease-in-out infinite;
            opacity: 0.6;
            filter: blur(0.5px);
        }

        @keyframes silk-float {
            0%, 100% {
                transform: translateY(0) rotate(-10deg) scaleY(1);
            }
            50% {
                transform: translateY(-100px) rotate(10deg) scaleY(1.2);
            }
        }

        /* Golden fireflies/sparkles */
        .corn-sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fde047;
            border-radius: 50%;
            animation: sparkle-pulse 3s ease-in-out infinite;
            box-shadow: 0 0 10px #fde047, 0 0 20px #fbbf24;
        }

        @keyframes sparkle-pulse {
            0%, 100% { opacity: 0.2; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.3); }
        }

        /* ===== SOYBEAN FIELD SCENE ===== */
        #soybean-scene .scene-bg {
            background: linear-gradient(
                180deg,
                rgba(34, 197, 94, 0.12) 0%,
                rgba(22, 163, 74, 0.08) 40%,
                transparent 70%
            );
        }

        .soybean-plant {
            position: absolute;
            bottom: 0;
            transform-origin: bottom center;
            animation: plant-sway 5s ease-in-out infinite;
        }

        .soybean-plant svg {
            width: 80px;
            height: 100%;
            filter: drop-shadow(0 0 15px rgba(34, 197, 94, 0.5));
        }

        .soybean-leaf {
            position: absolute;
            width: 40px;
            height: 25px;
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: leaf-flutter 3s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }

        @keyframes plant-sway {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        @keyframes leaf-flutter {
            0%, 100% { transform: rotate(-10deg) scale(1); }
            50% { transform: rotate(10deg) scale(1.05); }
        }

        .soybean-pod {
            position: absolute;
            width: 30px;
            height: 12px;
            background: linear-gradient(90deg, #86efac 0%, #4ade80 50%, #22c55e 100%);
            border-radius: 20px;
            animation: pod-float 6s ease-in-out infinite;
            opacity: 0;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.5);
        }

        @keyframes pod-float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.6; }
            100% { transform: translateY(-50px) rotate(180deg); opacity: 0; }
        }

        /* ===== WHEAT FIELD SCENE ===== */
        #wheat-scene .scene-bg {
            background: linear-gradient(
                180deg,
                rgba(217, 119, 6, 0.12) 0%,
                rgba(180, 83, 9, 0.08) 40%,
                transparent 70%
            );
        }

        .wheat-stalk {
            position: absolute;
            bottom: 0;
            width: 8px;
            transform-origin: bottom center;
            animation: wheat-wave 3s ease-in-out infinite;
        }

        .wheat-stalk::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 100%;
            background: linear-gradient(to top, #92400e, #b45309, #d97706);
            border-radius: 2px;
        }

        .wheat-head {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 15px;
            height: 50px;
            background: linear-gradient(to top, #d97706, #f59e0b, #fbbf24);
            border-radius: 40% 40% 20% 20%;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.6);
        }

        @keyframes wheat-wave {
            0%, 100% { transform: rotate(-8deg); }
            50% { transform: rotate(8deg); }
        }

        .wheat-grain {
            position: absolute;
            width: 8px;
            height: 14px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 50%;
            animation: grain-drift 10s linear infinite;
            opacity: 0;
        }

        @keyframes grain-drift {
            0% { transform: translate(0, -50px) rotate(0deg); opacity: 0; }
            10% { opacity: 0.7; }
            90% { opacity: 0.5; }
            100% { transform: translate(100px, 100vh) rotate(720deg); opacity: 0; }
        }

        /* ===== CANOLA FIELD SCENE ===== */
        #canola-scene .scene-bg {
            background: linear-gradient(
                180deg,
                rgba(234, 179, 8, 0.18) 0%,
                rgba(202, 138, 4, 0.1) 35%,
                transparent 65%
            );
        }

        .canola-flower {
            position: absolute;
            animation: flower-bob 4s ease-in-out infinite;
        }

        .canola-flower svg {
            filter: drop-shadow(0 0 25px rgba(234, 179, 8, 0.7));
        }

        @keyframes flower-bob {
            0%, 100% { transform: translateY(0) rotate(-3deg); }
            50% { transform: translateY(-15px) rotate(3deg); }
        }

        .canola-petal {
            position: absolute;
            width: 18px;
            height: 18px;
            background: radial-gradient(circle, #fde047 0%, #eab308 70%, #ca8a04 100%);
            border-radius: 50%;
            animation: petal-spiral 12s linear infinite;
            opacity: 0;
            box-shadow: 0 0 20px rgba(253, 224, 71, 0.6);
        }

        @keyframes petal-spiral {
            0% {
                transform: translate(0, -50px) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% { opacity: 0.9; }
            90% { opacity: 0.6; }
            100% {
                transform: translate(var(--drift-x, 80px), 100vh) rotate(1080deg) scale(1.2);
                opacity: 0;
            }
        }

        .canola-glow {
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(253, 224, 71, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: glow-pulse 4s ease-in-out infinite;
            filter: blur(30px);
        }

        @keyframes glow-pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.3); opacity: 0.8; }
        }

        /* ===== COTTON FIELD SCENE ===== */
        #cotton-scene .scene-bg {
            background: linear-gradient(
                180deg,
                rgba(255, 255, 255, 0.08) 0%,
                rgba(226, 232, 240, 0.05) 40%,
                transparent 70%
            );
        }

        .cotton-boll {
            position: absolute;
            animation: boll-drift 15s ease-in-out infinite;
        }

        .cotton-boll svg {
            filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.8));
        }

        @keyframes boll-drift {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(30px, -40px) rotate(5deg);
            }
            50% {
                transform: translate(-20px, 20px) rotate(-5deg);
            }
            75% {
                transform: translate(40px, -20px) rotate(3deg);
            }
        }

        .cotton-fluff {
            position: absolute;
            width: 50px;
            height: 50px;
            background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.4) 40%, transparent 70%);
            border-radius: 50%;
            animation: fluff-float 20s ease-in-out infinite;
            filter: blur(3px);
        }

        @keyframes fluff-float {
            0% { transform: translate(0, 100vh) scale(0.5); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.5; }
            100% { transform: translate(var(--drift-x, 100px), -100px) scale(1.5); opacity: 0; }
        }

        .cotton-wisp {
            position: absolute;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: wisp-flow 8s linear infinite;
            opacity: 0;
        }

        @keyframes wisp-flow {
            0% { transform: translateX(-100vw); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.4; }
            100% { transform: translateX(100vw); opacity: 0; }
        }

        /* ===== RICE PADDY SCENE ===== */
        #rice-scene .scene-bg {
            background: linear-gradient(
                180deg,
                rgba(6, 182, 212, 0.1) 0%,
                rgba(14, 116, 144, 0.06) 40%,
                transparent 70%
            );
        }

        .rice-stalk {
            position: absolute;
            bottom: 0;
            transform-origin: bottom center;
            animation: rice-sway 4s ease-in-out infinite;
        }

        @keyframes rice-sway {
            0%, 100% { transform: rotate(-4deg); }
            50% { transform: rotate(4deg); }
        }

        .rice-grain {
            position: absolute;
            width: 6px;
            height: 10px;
            background: linear-gradient(135deg, #ffffff, #e0f2fe, #bae6fd);
            border-radius: 50%;
            animation: rice-fall 6s linear infinite;
            opacity: 0;
            box-shadow: 0 0 10px rgba(186, 230, 253, 0.8);
        }

        @keyframes rice-fall {
            0% { transform: translateY(-30px) rotate(0deg); opacity: 0; }
            10% { opacity: 0.9; }
            90% { opacity: 0.6; }
            100% { transform: translateY(100vh) rotate(180deg); opacity: 0; }
        }

        .water-ripple {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(
                to top,
                rgba(6, 182, 212, 0.2) 0%,
                rgba(6, 182, 212, 0.1) 30%,
                transparent 100%
            );
            animation: water-shimmer 3s ease-in-out infinite;
        }

        @keyframes water-shimmer {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }

        .water-drop {
            position: absolute;
            width: 8px;
            height: 12px;
            background: linear-gradient(to bottom, transparent 0%, #67e8f9 50%, #22d3ee 100%);
            border-radius: 50% 50% 50% 50% / 30% 30% 70% 70%;
            animation: drop-fall 4s linear infinite;
            opacity: 0;
        }

        @keyframes drop-fall {
            0% { transform: translateY(-20px); opacity: 0; }
            10% { opacity: 0.8; }
            80% { opacity: 0.7; }
            95% { opacity: 0; }
            100% { transform: translateY(100vh); opacity: 0; }
        }

        .ripple-ring {
            position: absolute;
            bottom: 50px;
            width: 40px;
            height: 20px;
            border: 2px solid rgba(6, 182, 212, 0.4);
            border-radius: 50%;
            animation: ripple-expand 3s ease-out infinite;
            opacity: 0;
        }

        @keyframes ripple-expand {
            0% { transform: scale(0); opacity: 0.8; }
            100% { transform: scale(4); opacity: 0; }
        }

        /* Grain overlay */
        .grain {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        }

        /* Floating seeds/particles */
        .seeds-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .seed {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--theme-particle);
            border-radius: 50%;
            opacity: 0;
            animation: drift 25s linear infinite;
            transition: background 1s ease;
        }

        .seed::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: inherit;
            filter: blur(2px);
            transform: scale(2);
            opacity: 0.5;
        }

        @keyframes drift {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            5% { opacity: 0.6; }
            95% { opacity: 0.6; }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(720deg);
                opacity: 0;
            }
        }

        /* ========================================
           HEADER
        ======================================== */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 1.25rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(to bottom, rgba(3, 8, 6, 0.95) 0%, transparent 100%);
            backdrop-filter: blur(20px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

        .logo-mark {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px var(--theme-glow);
            position: relative;
            overflow: hidden;
        }

        .logo-mark::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.2) 50%, transparent 60%);
            transform: translateX(-100%);
            animation: logo-shine 3s ease-in-out infinite;
        }

        @keyframes logo-shine {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .logo-mark svg {
            width: 26px;
            height: 26px;
        }

        .logo-text {
            font-family: 'DM Serif Display', serif;
            font-size: 1.5rem;
            letter-spacing: -0.02em;
            color: var(--cream);
        }

        .logo-text span {
            color: var(--theme-secondary);
        }

        .nav {
            display: flex;
            align-items: center;
            gap: 2.5rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--sage-light);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--theme-secondary);
            transition: width 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--cream);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .btn-header {
            padding: 0.7rem 1.5rem;
            background: transparent;
            border: 1.5px solid var(--theme-primary);
            color: var(--theme-secondary);
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-header:hover {
            background: var(--theme-primary);
            color: var(--midnight);
            box-shadow: 0 0 30px var(--theme-glow);
            transform: translateY(-2px);
        }

        /* ========================================
           HERO SECTION
        ======================================== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8rem 2rem 4rem;
            position: relative;
            z-index: 2;
        }

        .hero-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .hero-tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 100px;
            font-size: 0.85rem;
            color: var(--sage-light);
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .hero-tag svg {
            width: 16px;
            height: 16px;
            color: var(--theme-secondary);
        }

        .hero-title {
            font-family: 'DM Serif Display', serif;
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 400;
            line-height: 1.1;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
        }

        .hero-title .accent {
            color: var(--theme-accent);
            font-style: italic;
        }

        .hero-subtitle {
            font-size: 1.15rem;
            color: var(--sage-light);
            max-width: 480px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Instruction pill */
        .instruction {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, color-mix(in srgb, var(--theme-primary) 15%, transparent) 0%, color-mix(in srgb, var(--theme-secondary) 10%, transparent) 100%);
            border: 1px solid color-mix(in srgb, var(--theme-secondary) 30%, transparent);
            border-radius: 100px;
            margin-bottom: 3rem;
            animation: pulse-soft 3s ease-in-out infinite;
        }

        @keyframes pulse-soft {
            0%, 100% { box-shadow: 0 0 0 0 transparent; }
            50% { box-shadow: 0 0 0 10px color-mix(in srgb, var(--theme-secondary) 10%, transparent); }
        }

        .instruction-icon {
            width: 32px;
            height: 32px;
            background: var(--theme-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .instruction-icon svg {
            width: 16px;
            height: 16px;
            color: white;
        }

        .instruction-text {
            font-size: 0.95rem;
            color: var(--cream);
            font-weight: 500;
        }

        /* ========================================
           CROP WHEEL - THE STAR
        ======================================== */
        .wheel-section {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }

        .wheel-container {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            max-width: 580px;
            margin: 0 auto;
        }

        /* Decorative ring - pronounced but elegant */
        .wheel-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 85%;
            height: 85%;
            transform: translate(-50%, -50%);
            border: 2px dashed color-mix(in srgb, var(--theme-secondary) 45%, transparent);
            border-radius: 50%;
            pointer-events: none;
            animation: ring-rotate 60s linear infinite;
            filter: drop-shadow(0 0 4px color-mix(in srgb, var(--theme-glow) 30%, transparent));
        }

        @keyframes ring-rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .wheel-ring::before {
            content: '';
            position: absolute;
            inset: -25px;
            border: 1.5px dashed color-mix(in srgb, var(--theme-secondary) 25%, transparent);
            border-radius: 50%;
            animation: ring-rotate-reverse 90s linear infinite;
        }

        @keyframes ring-rotate-reverse {
            from { transform: rotate(0deg); }
            to { transform: rotate(-360deg); }
        }

        .wheel-ring::after {
            content: '';
            position: absolute;
            inset: 15px;
            border: 1px dotted color-mix(in srgb, var(--theme-accent) 35%, transparent);
            border-radius: 50%;
            animation: ring-pulse 4s ease-in-out infinite;
        }

        @keyframes ring-pulse {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
        }

        /* Center display */
        .center-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            pointer-events: none;
        }

        .center-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(5, 150, 105, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(30px);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .center-glow.active {
            opacity: 1;
        }

        .selected-crop-name {
            font-family: 'DM Serif Display', serif;
            font-size: clamp(2.5rem, 7vw, 5rem);
            font-weight: 400;
            color: var(--cream);
            opacity: 0;
            transform: translateY(20px) scale(0.9);
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-shadow: 0 0 60px var(--theme-glow);
        }

        .selected-crop-name.active {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .selected-crop-state {
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            color: var(--theme-secondary);
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease 0.15s;
        }

        .selected-crop-state.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Prompt when no crop selected */
        .center-prompt {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            transition: opacity 0.5s ease;
        }

        .center-prompt.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .center-prompt-icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 1rem;
            border: 2px dashed var(--sage);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: rotate-slow 20s linear infinite;
        }

        @keyframes rotate-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .center-prompt-icon svg {
            width: 28px;
            height: 28px;
            color: var(--sage);
            animation: rotate-slow 20s linear infinite reverse;
        }

        .center-prompt-text {
            color: var(--sage);
            font-size: 0.9rem;
        }

        /* Crop wheel */
        .crop-wheel {
            position: absolute;
            width: 100%;
            height: 100%;
            transition: transform 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Individual crop items */
        .crop-item {
            position: absolute;
            width: 130px;
            height: 130px;
            left: 50%;
            top: 50%;
            margin-left: -65px;
            margin-top: -65px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .crop-item-inner {
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, rgba(13, 38, 30, 0.9) 0%, rgba(7, 20, 16, 0.95) 100%);
            border: 2px solid color-mix(in srgb, var(--theme-secondary) 20%, transparent);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.35rem;
            padding: 1rem;
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .crop-item-inner::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .crop-item:hover .crop-item-inner {
            border-color: var(--theme-secondary);
            transform: scale(1.08);
            box-shadow: 0 0 40px var(--theme-glow), inset 0 0 20px color-mix(in srgb, var(--theme-secondary) 10%, transparent);
        }

        .crop-item:hover .crop-item-inner::before {
            opacity: 1;
        }

        .crop-item.selected .crop-item-inner {
            border-color: var(--theme-accent);
            background: linear-gradient(145deg, color-mix(in srgb, var(--theme-primary) 30%, transparent) 0%, rgba(13, 38, 30, 0.9) 100%);
            box-shadow: 0 0 50px var(--theme-glow), inset 0 0 30px color-mix(in srgb, var(--theme-accent) 10%, transparent);
        }

                        /* Unique crop shapes with ultra-fluid animations */

        /* CORN - Dramatic cob shape with wild asymmetric curves */
        @keyframes corn-morph {
            0% { border-radius: 55% 20% 60% 25% / 15% 8% 80% 85%; }
            12% { border-radius: 35% 45% 40% 50% / 25% 20% 65% 70%; }
            25% { border-radius: 60% 25% 55% 30% / 10% 15% 85% 75%; }
            37% { border-radius: 25% 55% 35% 65% / 30% 10% 60% 88%; }
            50% { border-radius: 50% 30% 65% 20% / 12% 25% 78% 65%; }
            62% { border-radius: 30% 60% 25% 55% / 22% 8% 68% 82%; }
            75% { border-radius: 65% 20% 50% 35% / 8% 18% 88% 72%; }
            87% { border-radius: 40% 50% 45% 45% / 18% 12% 72% 78%; }
            100% { border-radius: 55% 20% 60% 25% / 15% 8% 80% 85%; }
        }

        /* SOYBEANS - Dramatic kidney bean with extreme variations */
        @keyframes bean-morph {
            0% { border-radius: 85% 15% 80% 20% / 75% 25% 70% 30%; }
            12% { border-radius: 60% 40% 55% 45% / 50% 50% 45% 55%; }
            25% { border-radius: 80% 20% 85% 15% / 70% 30% 75% 25%; }
            37% { border-radius: 50% 50% 60% 40% / 40% 60% 50% 50%; }
            50% { border-radius: 70% 30% 75% 25% / 55% 45% 60% 40%; }
            62% { border-radius: 55% 45% 50% 50% / 45% 55% 40% 60%; }
            75% { border-radius: 78% 22% 70% 30% / 68% 32% 65% 35%; }
            87% { border-radius: 65% 35% 75% 25% / 60% 40% 70% 30%; }
            100% { border-radius: 85% 15% 80% 20% / 75% 25% 70% 30%; }
        }

        /* WHEAT - Dramatic kernel with wild pointed variations */
        @keyframes wheat-morph {
            0% { border-radius: 70% 30% 25% 15% / 10% 5% 85% 90%; }
            12% { border-radius: 45% 55% 45% 40% / 25% 15% 70% 75%; }
            25% { border-radius: 65% 35% 30% 20% / 8% 12% 88% 82%; }
            37% { border-radius: 40% 60% 50% 35% / 20% 8% 75% 88%; }
            50% { border-radius: 55% 45% 35% 25% / 12% 18% 82% 78%; }
            62% { border-radius: 35% 65% 55% 30% / 18% 6% 78% 92%; }
            75% { border-radius: 75% 25% 28% 18% / 6% 15% 90% 80%; }
            87% { border-radius: 50% 50% 40% 32% / 15% 10% 80% 85%; }
            100% { border-radius: 70% 30% 25% 15% / 10% 5% 85% 90%; }
        }

        /* CANOLA - Dramatic flower with extreme petal variations */
        @keyframes canola-morph {
            0% { border-radius: 20% 80% 75% 25% / 25% 75% 25% 75%; }
            12% { border-radius: 45% 55% 50% 50% / 50% 50% 50% 50%; }
            25% { border-radius: 25% 75% 80% 20% / 30% 70% 30% 70%; }
            37% { border-radius: 50% 50% 55% 45% / 45% 55% 45% 55%; }
            50% { border-radius: 18% 82% 70% 30% / 35% 65% 20% 80%; }
            62% { border-radius: 40% 60% 60% 40% / 40% 60% 40% 60%; }
            75% { border-radius: 22% 78% 78% 22% / 28% 72% 28% 72%; }
            87% { border-radius: 35% 65% 65% 35% / 35% 65% 35% 65%; }
            100% { border-radius: 20% 80% 75% 25% / 25% 75% 25% 75%; }
        }

        /* COTTON - Dramatic boll with wild fluffy variations */
        @keyframes cotton-morph {
            0% { border-radius: 85% 25% 75% 35% / 70% 80% 25% 75%; }
            14% { border-radius: 55% 55% 50% 60% / 45% 55% 50% 50%; }
            28% { border-radius: 80% 30% 70% 40% / 65% 75% 30% 70%; }
            42% { border-radius: 45% 65% 80% 30% / 75% 50% 35% 80%; }
            56% { border-radius: 75% 40% 65% 50% / 55% 70% 45% 60%; }
            70% { border-radius: 60% 50% 55% 55% / 50% 60% 50% 55%; }
            84% { border-radius: 82% 28% 72% 38% / 68% 78% 28% 72%; }
            100% { border-radius: 85% 25% 75% 35% / 70% 80% 25% 75%; }
        }

        /* RICE - Dramatic grain with wild elongated variations */
        @keyframes rice-morph {
            0% { border-radius: 35% 10% 38% 8% / 55% 80% 50% 85%; }
            12% { border-radius: 18% 28% 15% 30% / 75% 60% 78% 62%; }
            25% { border-radius: 30% 12% 35% 10% / 58% 78% 52% 82%; }
            37% { border-radius: 12% 35% 10% 38% / 82% 55% 85% 58%; }
            50% { border-radius: 25% 15% 28% 12% / 62% 75% 58% 78%; }
            62% { border-radius: 15% 32% 12% 35% / 78% 58% 82% 55%; }
            75% { border-radius: 38% 8% 32% 15% / 52% 82% 48% 88%; }
            87% { border-radius: 20% 25% 22% 22% / 70% 68% 72% 70%; }
            100% { border-radius: 35% 10% 38% 8% / 55% 80% 50% 85%; }
        }

        .crop-item.crop-corn .crop-item-inner {
            border-radius: 55% 20% 60% 25% / 15% 8% 80% 85%;
            animation: corn-morph var(--morph-speed, 5s) ease-in-out infinite;
        }
        .crop-item.crop-soybeans .crop-item-inner {
            border-radius: 85% 15% 80% 20% / 75% 25% 70% 30%;
            animation: bean-morph var(--morph-speed, 5s) ease-in-out infinite;
        }
        .crop-item.crop-wheat .crop-item-inner {
            border-radius: 70% 30% 25% 15% / 10% 5% 85% 90%;
            animation: wheat-morph var(--morph-speed, 5s) ease-in-out infinite;
        }
        .crop-item.crop-canola .crop-item-inner {
            border-radius: 20% 80% 75% 25% / 25% 75% 25% 75%;
            animation: canola-morph var(--morph-speed, 5s) ease-in-out infinite;
        }
        .crop-item.crop-cotton .crop-item-inner {
            border-radius: 85% 25% 75% 35% / 70% 80% 25% 75%;
            animation: cotton-morph var(--morph-speed, 5s) ease-in-out infinite;
        }
        .crop-item.crop-rice .crop-item-inner {
            border-radius: 35% 10% 38% 8% / 55% 80% 50% 85%;
            animation: rice-morph var(--morph-speed, 5s) ease-in-out infinite;
        }

        /* Highlight particles around spotlit crop */
        .crop-highlight-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--theme-accent, #4ade80);
            pointer-events: none;
            opacity: 0;
            animation: particle-orbit var(--particle-duration, 2s) ease-in-out infinite;
            box-shadow: 0 0 8px var(--theme-glow, rgba(74, 222, 128, 0.5));
        }

        @keyframes particle-orbit {
            0% { opacity: 0; transform: translate(0, 0) scale(0.5); }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; transform: translate(var(--px, 20px), var(--py, -20px)) scale(0.2); }
        }

        .crop-icon {
            font-size: 2.5rem;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.3));
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .crop-item:hover .crop-icon {
            transform: scale(1.1);
        }

        .crop-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.15rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .crop-name {
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--cream);
            text-transform: uppercase;
            letter-spacing: 0.12em;
            text-shadow: 0 2px 8px rgba(0,0,0,0.5), 0 0 20px rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .crop-state {
            font-size: 0.55rem;
            font-weight: 500;
            color: var(--theme-secondary, var(--gold));
            text-transform: uppercase;
            letter-spacing: 0.2em;
            opacity: 0.9;
            transition: all 0.3s ease;
        }

        .crop-item:hover .crop-name {
            color: #fff;
            text-shadow: 0 2px 10px rgba(0,0,0,0.6), 0 0 30px var(--theme-glow, rgba(251, 191, 36, 0.4));
        }

        .crop-item:hover .crop-state {
            color: var(--theme-accent, var(--gold-light));
            opacity: 1;
        }

        .crop-item.selected .crop-name {
            color: var(--theme-accent, var(--gold));
            text-shadow: 0 0 20px var(--theme-glow, rgba(251, 191, 36, 0.6));
        }

        .crop-item.selected .crop-state {
            color: var(--cream);
            opacity: 1;
        }

        /* ========================================
           INPUT CARDS - FLOATING DATA
        ======================================== */
        .inputs-container {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .input-card {
            position: absolute;
            background: linear-gradient(145deg, rgba(13, 38, 30, 0.95) 0%, rgba(7, 20, 16, 0.98) 100%);
            border: 1px solid color-mix(in srgb, var(--theme-secondary) 15%, transparent);
            border-radius: 16px;
            padding: 1rem 1.25rem;
            backdrop-filter: blur(20px);
            min-width: 110px;
            text-align: center;
            opacity: 0;
            transform: scale(0.8) translateY(30px);
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .input-card.visible {
            opacity: 1;
            transform: scale(1) translateY(0);
        }

        .input-card.shimmer::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: linear-gradient(90deg, transparent, var(--theme-glow, rgba(251, 191, 36, 0.3)), transparent);
            animation: shimmer-sweep 1.5s ease-out;
        }

        @keyframes shimmer-sweep {
            0% { transform: translateX(-100%); opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }

        .input-icon-wrap {
            width: 44px;
            height: 44px;
            margin: 0 auto 0.6rem;
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
        }

        .input-icon {
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
        }

        .input-label {
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--sage);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.3rem;
        }

        .input-value {
            font-family: 'DM Serif Display', serif;
            font-size: 1.6rem;
            color: var(--cream);
            font-weight: 400;
        }

        /* Position input cards - horizontal row below wheel */
        .inputs-container {
            position: relative;
            width: 100%;
            height: auto;
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 2rem;
            pointer-events: none;
            z-index: 5;
        }

        .input-card {
            position: relative;
            top: auto;
            left: auto;
            right: auto;
            bottom: auto;
        }

        /* ========================================
           CALCULATE BUTTON
        ======================================== */
        .calc-section {
            margin-top: 3rem;
            text-align: center;
        }

        .calc-button {
            position: relative;
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%);
            border: none;
            color: white;
            font-family: 'Outfit', sans-serif;
            font-size: 1.15rem;
            font-weight: 600;
            padding: 1.25rem 3rem;
            border-radius: 100px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            opacity: 0;
            transform: translateY(30px);
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.8s ease;
            overflow: hidden;
        }

        .calc-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .calc-button:hover::before {
            transform: translateX(100%);
        }

        .calc-button.visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .calc-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 50px var(--theme-glow, rgba(5, 150, 105, 0.4));
        }

        .calc-button:active {
            transform: translateY(-2px);
        }

        .calc-button.calculating {
            pointer-events: none;
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%);
        }

        .gear-icon {
            width: 24px;
            height: 24px;
            transition: transform 0.3s ease;
        }

        .calc-button:hover .gear-icon {
            transform: rotate(90deg);
        }

        .calc-button.calculating .gear-icon {
            animation: spin-fast 0.6s linear infinite;
        }

        @keyframes spin-fast {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ========================================
           RENT RESULT - THE GRAND REVEAL
        ======================================== */
        .result-section {
            margin-top: 3rem;
            text-align: center;
            perspective: 1000px;
        }

        .rent-result {
            opacity: 0;
            transform: translateY(40px) rotateX(-20deg);
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .rent-result.visible {
            opacity: 1;
            transform: translateY(0) rotateX(0);
        }

        .rent-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--sage);
            text-transform: uppercase;
            letter-spacing: 0.25em;
            margin-bottom: 0.75rem;
        }

        .rent-value-wrap {
            position: relative;
            display: inline-block;
        }

        .rent-value {
            font-family: 'DM Serif Display', serif;
            font-size: clamp(4rem, 12vw, 8rem);
            font-weight: 400;
            background: linear-gradient(135deg, var(--theme-accent) 0%, var(--theme-secondary) 50%, var(--theme-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 2;
        }

        .rent-value-glow {
            position: absolute;
            inset: 0;
            font-family: 'DM Serif Display', serif;
            font-size: clamp(4rem, 12vw, 8rem);
            font-weight: 400;
            color: var(--theme-accent);
            filter: blur(40px);
            opacity: 0.6;
            z-index: 1;
            animation: glow-pulse 2s ease-in-out infinite alternate;
        }

        @keyframes glow-pulse {
            from { opacity: 0.4; filter: blur(30px); }
            to { opacity: 0.7; filter: blur(50px); }
        }

        .rent-unit {
            font-size: 1rem;
            color: var(--sage-light);
            margin-top: 0.5rem;
            font-weight: 500;
        }

        /* Casino-style sparkles around rent value */
        .rent-sparkles {
            position: absolute;
            inset: -40px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .rent-result.visible .rent-sparkles {
            opacity: 1;
        }

        .sparkle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--theme-accent);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            animation: sparkle-twinkle 1.5s ease-in-out infinite;
        }

        .sparkle:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; }
        .sparkle:nth-child(2) { top: 5%; right: 10%; animation-delay: 0.3s; }
        .sparkle:nth-child(3) { bottom: 15%; left: 10%; animation-delay: 0.6s; }
        .sparkle:nth-child(4) { bottom: 10%; right: 5%; animation-delay: 0.9s; }
        .sparkle:nth-child(5) { top: 50%; left: 0%; animation-delay: 0.2s; }
        .sparkle:nth-child(6) { top: 50%; right: 0%; animation-delay: 0.5s; }

        @keyframes sparkle-twinkle {
            0%, 100% { transform: scale(0.5) rotate(0deg); opacity: 0.3; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
        }

        /* Dramatic slot-machine style reveal */
        .rent-result.revealing .rent-value {
            animation: slot-reveal 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes slot-reveal {
            0% { transform: translateY(-30px) scale(0.8); opacity: 0; }
            50% { transform: translateY(10px) scale(1.1); }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        /* Winner banner effect */
        .rent-winner-banner {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 50%, var(--theme-accent) 100%);
            color: var(--midnight);
            padding: 0.4rem 1.5rem;
            border-radius: 100px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            opacity: 0;
            transform: translateX(-50%) translateY(10px);
            transition: all 0.5s ease 0.3s;
            box-shadow: 0 4px 20px var(--theme-glow);
        }

        .rent-result.visible .rent-winner-banner {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Celebration particles */
        .celebration {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1000;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
        }

        /* Casino-style light rays behind rent */
        .rent-rays {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 400px;
            height: 400px;
            transform: translate(-50%, -50%);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        .rent-result.visible .rent-rays {
            opacity: 1;
        }

        .rent-rays::before {
            content: '';
            position: absolute;
            inset: 0;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                rgba(251, 191, 36, 0.1) 10deg,
                transparent 20deg,
                transparent 30deg,
                rgba(251, 191, 36, 0.1) 40deg,
                transparent 50deg,
                transparent 60deg,
                rgba(251, 191, 36, 0.1) 70deg,
                transparent 80deg,
                transparent 90deg,
                rgba(251, 191, 36, 0.1) 100deg,
                transparent 110deg,
                transparent 120deg,
                rgba(251, 191, 36, 0.1) 130deg,
                transparent 140deg,
                transparent 150deg,
                rgba(251, 191, 36, 0.1) 160deg,
                transparent 170deg,
                transparent 180deg,
                rgba(251, 191, 36, 0.1) 190deg,
                transparent 200deg,
                transparent 210deg,
                rgba(251, 191, 36, 0.1) 220deg,
                transparent 230deg,
                transparent 240deg,
                rgba(251, 191, 36, 0.1) 250deg,
                transparent 260deg,
                transparent 270deg,
                rgba(251, 191, 36, 0.1) 280deg,
                transparent 290deg,
                transparent 300deg,
                rgba(251, 191, 36, 0.1) 310deg,
                transparent 320deg,
                transparent 330deg,
                rgba(251, 191, 36, 0.1) 340deg,
                transparent 350deg,
                transparent 360deg
            );
            border-radius: 50%;
            animation: rotate-rays 20s linear infinite;
        }

        @keyframes rotate-rays {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ========================================
           CTA SECTION
        ======================================== */
        .cta-section {
            margin-top: 3rem;
            text-align: center;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease 0.3s;
        }

        .cta-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .cta-main {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1.25rem 2.5rem;
            background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%);
            color: var(--midnight);
            font-size: 1.1rem;
            font-weight: 700;
            text-decoration: none;
            border-radius: 100px;
            transition: all 0.4s ease;
            box-shadow: 0 10px 40px var(--theme-glow);
        }

        .cta-main:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 60px var(--theme-glow);
        }

        .cta-main svg {
            width: 20px;
            height: 20px;
            transition: transform 0.3s ease;
        }

        .cta-main:hover svg {
            transform: translateX(4px);
        }

        .cta-sub {
            display: block;
            margin-top: 1rem;
            color: var(--sage);
            font-size: 0.9rem;
        }

        /* ========================================
           RESPONSIVE - COMPREHENSIVE
        ======================================== */

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: center;
            gap: 5px;
            width: 32px;
            height: 32px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 4px;
            z-index: 200;
        }

        .mobile-menu-toggle span {
            display: block;
            width: 100%;
            height: 2px;
            background: var(--cream);
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }

        /* Mobile Navigation Overlay */
        .mobile-nav {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(3, 8, 6, 0.98);
            backdrop-filter: blur(20px);
            z-index: 150;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .mobile-nav.active {
            opacity: 1;
            pointer-events: all;
        }

        .mobile-nav a {
            color: var(--cream);
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .mobile-nav a:hover {
            color: var(--theme-secondary);
        }

        .mobile-nav .btn-header {
            font-size: 1.2rem;
            padding: 1rem 2rem;
        }

        /* ===== LARGE DESKTOP (1400px+) ===== */
        @media (min-width: 1400px) {
            .hero {
                padding: 10rem 4rem 6rem;
            }

            .wheel-section {
                max-width: 900px;
            }

            .wheel-container {
                max-width: 580px;
            }

            .inputs-container {
                gap: 1.5rem;
            }

            .input-card {
                padding: 1.25rem 1.5rem;
                min-width: 130px;
            }
        }

        /* ===== DESKTOP (1024px - 1399px) ===== */
        @media (max-width: 1399px) and (min-width: 1024px) {
            .header {
                padding: 1rem 2.5rem;
            }

            .nav-links {
                gap: 1.5rem;
            }
        }

        /* ===== TABLET LANDSCAPE (900px - 1023px) ===== */
        @media (max-width: 1023px) and (min-width: 900px) {
            .header {
                padding: 1rem 2rem;
            }

            .nav-links {
                gap: 1.25rem;
            }

            .nav-links a {
                font-size: 0.85rem;
            }

            .wheel-container {
                max-width: 520px;
            }

            .crop-item {
                width: 115px;
                height: 115px;
                margin-left: -57.5px;
                margin-top: -57.5px;
            }

            .crop-item-inner {
                gap: 0.3rem;
                padding: 0.85rem;
            }

            .crop-icon {
                font-size: 2.2rem;
            }

            .crop-name {
                font-size: 0.68rem;
            }

            .crop-state {
                font-size: 0.5rem;
            }

            .input-card {
                padding: 0.85rem 1.1rem;
                min-width: 100px;
            }
        }

        /* ===== TABLET PORTRAIT (768px - 899px) ===== */
        @media (max-width: 899px) {
            .mobile-menu-toggle {
                display: flex;
            }

            .mobile-nav {
                display: flex;
            }

            .nav-links {
                display: none;
            }

            .header {
                padding: 1rem 1.5rem;
            }

            .hero {
                padding: 7rem 1.5rem 4rem;
            }

            .hero-title {
                font-size: clamp(2.2rem, 5.5vw, 3.5rem);
            }

            .hero-subtitle {
                font-size: 1rem;
                padding: 0 1rem;
            }

            .wheel-section {
                max-width: 100%;
                padding: 0 1rem;
            }

            .wheel-container {
                max-width: 460px;
            }

            .crop-item {
                width: 105px;
                height: 105px;
                margin-left: -52.5px;
                margin-top: -52.5px;
            }

            .crop-item-inner {
                gap: 0.25rem;
                padding: 0.75rem;
            }

            .crop-icon {
                font-size: 2rem;
            }

            .crop-name {
                font-size: 0.6rem;
            }

            .crop-state {
                font-size: 0.45rem;
            }

            .inputs-container {
                gap: 0.75rem;
                margin-top: 1.5rem;
                padding: 0 0.5rem;
            }

            .input-card {
                padding: 0.75rem 1rem;
                min-width: 95px;
            }

            .input-icon-wrap {
                width: 38px;
                height: 38px;
            }

            .input-value {
                font-size: 1.35rem;
            }

            .input-label {
                font-size: 0.6rem;
            }

            .calc-section {
                margin-top: 2.5rem;
            }

            .calc-button {
                padding: 1.1rem 2.5rem;
                font-size: 1.05rem;
            }

            .rent-value {
                font-size: clamp(3.5rem, 10vw, 6rem);
            }

            .rent-value-glow {
                font-size: clamp(3.5rem, 10vw, 6rem);
            }

            .cta-main {
                padding: 1.1rem 2rem;
                font-size: 1rem;
            }
        }

        /* ===== MOBILE LARGE (600px - 767px) ===== */
        @media (max-width: 767px) {
            .hero {
                padding: 6.5rem 1.25rem 3.5rem;
            }

            .hero-tag {
                font-size: 0.8rem;
                padding: 0.4rem 0.85rem;
            }

            .hero-title {
                font-size: clamp(2rem, 7vw, 2.8rem);
            }

            .hero-subtitle {
                font-size: 0.95rem;
            }

            .instruction {
                padding: 0.6rem 1.25rem;
                margin-bottom: 2rem;
            }

            .instruction-icon {
                width: 28px;
                height: 28px;
            }

            .instruction-text {
                font-size: 0.88rem;
            }

            .wheel-container {
                max-width: 380px;
            }

            .crop-item {
                width: 90px;
                height: 90px;
                margin-left: -45px;
                margin-top: -45px;
            }

            .crop-item-inner {
                gap: 0.2rem;
                padding: 0.6rem;
            }

            .crop-icon {
                font-size: 1.75rem;
            }

            .crop-name {
                font-size: 0.55rem;
            }

            .crop-state {
                font-size: 0.42rem;
            }

            .selected-crop-name {
                font-size: clamp(2rem, 8vw, 3rem);
            }

            .selected-crop-state {
                font-size: 0.85rem;
            }

            .inputs-container {
                gap: 0.6rem;
                justify-content: center;
            }

            .input-card {
                padding: 0.65rem 0.9rem;
                min-width: 85px;
                border-radius: 12px;
            }

            .input-icon-wrap {
                width: 34px;
                height: 34px;
                border-radius: 9px;
                margin-bottom: 0.4rem;
            }

            .input-icon {
                font-size: 0.95rem;
            }

            .input-value {
                font-size: 1.2rem;
            }

            .input-label {
                font-size: 0.55rem;
            }

            .calc-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }

            .gear-icon {
                width: 20px;
                height: 20px;
            }

            .result-section {
                margin-top: 2.5rem;
            }

            .rent-label {
                font-size: 0.75rem;
                letter-spacing: 0.2em;
            }

            .rent-value {
                font-size: clamp(3rem, 12vw, 5rem);
            }

            .rent-value-glow {
                font-size: clamp(3rem, 12vw, 5rem);
            }

            .rent-unit {
                font-size: 0.9rem;
            }

            .cta-section {
                margin-top: 2.5rem;
            }

            .cta-main {
                padding: 1rem 1.75rem;
                font-size: 0.95rem;
            }

            .cta-sub {
                font-size: 0.85rem;
            }
        }

        /* ===== MOBILE MEDIUM (480px - 599px) ===== */
        @media (max-width: 599px) {
            .header {
                padding: 0.9rem 1rem;
            }

            .logo-mark {
                width: 38px;
                height: 38px;
            }

            .logo-text {
                font-size: 1.3rem;
            }

            .hero {
                padding: 6rem 1rem 3rem;
            }

            .wheel-container {
                max-width: 330px;
            }

            .crop-item {
                width: 78px;
                height: 78px;
                margin-left: -39px;
                margin-top: -39px;
            }

            .crop-item-inner {
                gap: 0.15rem;
                padding: 0.5rem;
            }

            .crop-icon {
                font-size: 1.5rem;
            }

            .crop-name {
                font-size: 0.5rem;
            }

            .crop-state {
                font-size: 0.38rem;
            }

            .center-prompt-icon {
                width: 50px;
                height: 50px;
            }

            .center-prompt-icon svg {
                width: 22px;
                height: 22px;
            }

            .center-prompt-text {
                font-size: 0.8rem;
            }

            .inputs-container {
                gap: 0.5rem;
                margin-top: 1.25rem;
            }

            .input-card {
                padding: 0.55rem 0.75rem;
                min-width: 58px;
                flex: 0 0 calc(33.333% - 0.4rem);
                max-width: calc(33.333% - 0.4rem);
            }

            .input-icon-wrap {
                width: 30px;
                height: 30px;
                border-radius: 8px;
            }

            .input-icon {
                font-size: 0.85rem;
            }

            .input-value {
                font-size: 1rem;
            }

            .input-label {
                font-size: 0.5rem;
                margin-bottom: 0.2rem;
            }

            .calc-section {
                margin-top: 2rem;
            }

            .calc-button {
                padding: 0.9rem 1.75rem;
                font-size: 0.95rem;
                gap: 0.5rem;
            }

            .result-section {
                margin-top: 2rem;
            }

            .rent-value {
                font-size: clamp(2.5rem, 14vw, 4rem);
            }

            .rent-value-glow {
                font-size: clamp(2.5rem, 14vw, 4rem);
            }

            .cta-main {
                padding: 0.9rem 1.5rem;
                font-size: 0.9rem;
            }

            /* Medium mobile crop scene adjustments */
            .crop-scene.active {
                opacity: 0.7;
            }

            .corn-stalk {
                transform: scale(0.65) !important;
            }

            .soybean-plant, .wheat-stalk, .canola-flower, .cotton-boll, .rice-stalk {
                transform: scale(0.7);
            }

            .scene-layer--particles {
                opacity: 0.8;
            }
        }

        /* ===== MOBILE SMALL (< 480px) ===== */
        @media (max-width: 479px) {
            .hero {
                padding: 5.5rem 0.75rem 2.5rem;
                min-height: auto;
            }

            .hero-header {
                margin-bottom: 1rem;
            }

            .hero-tag {
                font-size: 0.72rem;
                padding: 0.35rem 0.75rem;
                margin-bottom: 1rem;
            }

            .hero-title {
                font-size: clamp(1.75rem, 8vw, 2.2rem);
                margin-bottom: 0.75rem;
            }

            .hero-subtitle {
                font-size: 0.88rem;
                line-height: 1.5;
            }

            .instruction {
                padding: 0.5rem 1rem;
                margin-bottom: 1.5rem;
                gap: 0.5rem;
            }

            .instruction-icon {
                width: 26px;
                height: 26px;
            }

            .instruction-icon svg {
                width: 14px;
                height: 14px;
            }

            .instruction-text {
                font-size: 0.82rem;
            }

            .wheel-container {
                max-width: 290px;
            }

            .wheel-ring {
                width: 90%;
                height: 90%;
            }

            .wheel-ring::before {
                inset: -15px;
            }

            .crop-item {
                width: 68px;
                height: 68px;
                margin-left: -34px;
                margin-top: -34px;
            }

            .crop-item-inner {
                border-width: 1.5px;
                gap: 0.1rem;
                padding: 0.4rem;
            }

            .crop-icon {
                font-size: 1.3rem;
            }

            .crop-name {
                font-size: 0.45rem;
                letter-spacing: 0.08em;
            }

            .crop-state {
                font-size: 0.35rem;
                letter-spacing: 0.1em;
            }

            .selected-crop-name {
                font-size: clamp(1.6rem, 10vw, 2.2rem);
            }

            .selected-crop-state {
                font-size: 0.75rem;
                letter-spacing: 0.2em;
            }

            .center-prompt-icon {
                width: 44px;
                height: 44px;
                margin-bottom: 0.75rem;
            }

            .center-prompt-text {
                font-size: 0.72rem;
            }

            .inputs-container {
                gap: 0.4rem;
                margin-top: 1rem;
                padding: 0 0.25rem;
            }

            .input-card {
                padding: 0.45rem 0.5rem;
                min-width: 52px;
                border-radius: 8px;
            }

            .input-icon-wrap {
                width: 26px;
                height: 26px;
                border-radius: 6px;
                margin-bottom: 0.3rem;
            }

            .input-icon {
                font-size: 0.75rem;
            }

            .input-value {
                font-size: 0.88rem;
            }

            .input-label {
                font-size: 0.45rem;
            }

            .calc-section {
                margin-top: 1.5rem;
            }

            .calc-button {
                padding: 0.8rem 1.5rem;
                font-size: 0.88rem;
                border-radius: 50px;
            }

            .gear-icon {
                width: 18px;
                height: 18px;
            }

            .result-section {
                margin-top: 1.5rem;
            }

            .rent-label {
                font-size: 0.68rem;
                letter-spacing: 0.15em;
                margin-bottom: 0.5rem;
            }

            .rent-value {
                font-size: clamp(2.2rem, 15vw, 3.5rem);
            }

            .rent-value-glow {
                font-size: clamp(2.2rem, 15vw, 3.5rem);
            }

            .rent-unit {
                font-size: 0.8rem;
                margin-top: 0.35rem;
            }

            .cta-section {
                margin-top: 2rem;
            }

            .cta-main {
                padding: 0.85rem 1.25rem;
                font-size: 0.85rem;
                border-radius: 50px;
            }

            .cta-main svg {
                width: 16px;
                height: 16px;
            }

            .cta-sub {
                font-size: 0.78rem;
                margin-top: 0.75rem;
            }

            .scroll-hint {
                bottom: 1rem;
            }

            .scroll-hint svg {
                width: 20px;
                height: 20px;
            }

            /* Reduce floating particles on mobile */
            .seeds-container {
                opacity: 0.5;
            }

            /* Simplify gradient orbs on mobile */
            .gradient-orb {
                filter: blur(80px);
                opacity: 0.3;
            }

            .gradient-orb--emerald {
                width: 400px;
                height: 400px;
            }

            .gradient-orb--gold {
                width: 300px;
                height: 300px;
            }

            .gradient-orb--sage {
                display: none;
            }

            /* Mobile crop scene adjustments */
            .crop-scene {
                opacity: 0;
                transition: opacity 0.8s ease;
            }

            .crop-scene.active {
                opacity: 0.6;
            }

            /* Scale down corn stalks on mobile */
            .corn-stalk {
                transform: scale(0.5) !important;
                bottom: -50px !important;
            }

            .corn-kernel, .corn-dust, .corn-silk, .corn-sparkle {
                transform: scale(0.7);
            }

            /* Scale down other crop elements */
            .soybean-plant, .wheat-stalk, .canola-flower, .cotton-boll, .rice-stalk {
                transform: scale(0.6);
            }

            /* Reduce particle counts visually */
            .scene-layer--particles {
                opacity: 0.7;
            }

            .scene-layer--light {
                opacity: 0.5;
            }
        }

        /* ===== LANDSCAPE MODE ON MOBILE ===== */
        @media (max-height: 500px) and (orientation: landscape) {
            .hero {
                padding: 5rem 2rem 2rem;
                min-height: auto;
            }

            .hero-header {
                margin-bottom: 0.75rem;
            }

            .hero-tag {
                margin-bottom: 0.75rem;
            }

            .hero-title {
                font-size: 1.8rem;
            }

            .hero-subtitle {
                font-size: 0.85rem;
            }

            .instruction {
                margin-bottom: 1rem;
            }

            .wheel-section {
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 2rem;
                max-width: 100%;
            }

            .wheel-container {
                max-width: 250px;
                flex-shrink: 0;
            }

            .inputs-container {
                margin-top: 0;
                flex-direction: column;
                gap: 0.4rem;
            }

            .input-card {
                flex: none;
                max-width: 100px;
            }

            .calc-section {
                margin-top: 1rem;
            }

            .result-section {
                margin-top: 1rem;
            }

            .scroll-hint {
                display: none;
            }
        }

        /* ===== TOUCH DEVICE ENHANCEMENTS ===== */
        @media (hover: none) and (pointer: coarse) {
            .crop-item {
                /* Larger touch targets */
                min-width: 44px;
                min-height: 44px;
            }

            .calc-button:hover {
                transform: none;
            }

            .calc-button:active {
                transform: scale(0.98);
            }

            .cta-main:hover {
                transform: none;
            }

            .cta-main:active {
                transform: scale(0.98);
            }

            .btn-header:hover {
                transform: none;
            }
        }

        /* ===== REDUCED MOTION ===== */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            .gradient-orb {
                animation: none;
            }

            .seed {
                display: none;
            }

            .center-prompt-icon {
                animation: none;
            }

            .center-prompt-icon svg {
                animation: none;
            }
        }

        /* ===== HIGH CONTRAST MODE ===== */
        @media (prefers-contrast: high) {
            :root {
                --glass-border: rgba(255, 255, 255, 0.3);
            }

            .crop-item-inner {
                border-width: 2px;
            }

            .input-card {
                border-width: 2px;
            }
        }

        /* ========================================
           SMOOTH SCROLL INDICATOR
        ======================================== */
        .scroll-hint {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: var(--sage);
            font-size: 0.75rem;
            opacity: 0.6;
            animation: bounce 2s ease-in-out infinite;
            z-index: 10;
        }

        .scroll-hint.hidden {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        .scroll-hint svg {
            width: 24px;
            height: 24px;
        }
    </style>
</head>
<body>
    <!-- Atmospheric Background - Dynamic Theme -->
    <div class="atmosphere">
        <div class="theme-gradient"></div>
        <div class="center-glow"></div>
        <div class="theme-lines"></div>
        <div class="gradient-orb gradient-orb--emerald"></div>
        <div class="gradient-orb gradient-orb--gold"></div>
        <div class="gradient-orb gradient-orb--sage"></div>
    </div>

    <!-- Crop-Specific Animated Scenes -->
    <div class="crop-scene" id="corn-scene">
        <div class="scene-layer scene-layer--back scene-bg"></div>
        <div class="scene-layer scene-layer--light corn-rays"></div>
        <div class="scene-layer scene-layer--mid" id="corn-stalks"></div>
        <div class="scene-layer scene-layer--front" id="corn-particles"></div>
    </div>

    <div class="crop-scene" id="soybean-scene">
        <div class="scene-layer scene-layer--back scene-bg"></div>
        <div class="scene-layer scene-layer--mid" id="soybean-plants"></div>
        <div class="scene-layer scene-layer--front" id="soybean-particles"></div>
    </div>

    <div class="crop-scene" id="wheat-scene">
        <div class="scene-layer scene-layer--back scene-bg"></div>
        <div class="scene-layer scene-layer--mid" id="wheat-field"></div>
        <div class="scene-layer scene-layer--front" id="wheat-particles"></div>
    </div>

    <div class="crop-scene" id="canola-scene">
        <div class="scene-layer scene-layer--back scene-bg"></div>
        <div class="scene-layer scene-layer--light" id="canola-glows"></div>
        <div class="scene-layer scene-layer--mid" id="canola-flowers"></div>
        <div class="scene-layer scene-layer--front" id="canola-particles"></div>
    </div>

    <div class="crop-scene" id="cotton-scene">
        <div class="scene-layer scene-layer--back scene-bg"></div>
        <div class="scene-layer scene-layer--mid" id="cotton-bolls"></div>
        <div class="scene-layer scene-layer--front" id="cotton-particles"></div>
    </div>

    <div class="crop-scene" id="rice-scene">
        <div class="scene-layer scene-layer--back scene-bg"></div>
        <div class="scene-layer scene-layer--back water-ripple"></div>
        <div class="scene-layer scene-layer--mid" id="rice-stalks"></div>
        <div class="scene-layer scene-layer--front" id="rice-particles"></div>
    </div>

    <div class="seeds-container" id="seeds"></div>
    <div class="grain"></div>

    <!-- Celebration particles container -->
    <div class="celebration" id="celebration"></div>

    <!-- Header -->
    <header class="header">
        <a href="#" class="logo">
            <div class="logo-mark">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 18 Q12 4 21 18" stroke="white"/>
                    <circle cx="12" cy="12" r="2" fill="white" stroke="none"/>
                </svg>
            </div>
            <span class="logo-text">Rent<span>Curve</span></span>
        </a>
        <nav class="nav">
            <ul class="nav-links">
                <li><a href="#">Features</a></li>
                <li><a href="#">Pricing</a></li>
                <li><a href="#">How It Works</a></li>
                <li><a href="#">About</a></li>
            </ul>
            <a href="https://www.rentcurves.com" class="btn-header">Sign In</a>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <!-- Mobile Navigation Overlay -->
    <nav class="mobile-nav" id="mobileNav">
        <a href="#">Features</a>
        <a href="#">Pricing</a>
        <a href="#">How It Works</a>
        <a href="#">About</a>
        <a href="https://www.rentcurves.com" class="btn-header">Sign In</a>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-header">
            <div class="hero-tag">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                    <path d="M2 17l10 5 10-5"/>
                    <path d="M2 12l10 5 10-5"/>
                </svg>
                Agricultural Intelligence
            </div>
            <h1 class="hero-title">
                See Your <span class="accent">Rent</span><br>in Seconds
            </h1>
            <p class="hero-subtitle">
                Select a crop, view the numbers, calculate your precise land rent.
                No signup required.
            </p>
        </div>

        <div class="instruction" id="instruction">
            <div class="instruction-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M15 15l-2 5L9 9l11 4-5 2z"/>
                </svg>
            </div>
            <span class="instruction-text">Select a crop to begin</span>
        </div>

        <!-- Crop Wheel -->
        <div class="wheel-section">
            <div class="wheel-container">
                <div class="wheel-ring"></div>

                <div class="crop-wheel" id="cropWheel"></div>

                <!-- Center Display -->
                <div class="center-display">
                    <div class="center-glow" id="centerGlow"></div>
                    <div class="center-prompt" id="centerPrompt">
                        <div class="center-prompt-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 6v6l4 2"/>
                            </svg>
                        </div>
                        <div class="center-prompt-text">Choose your crop</div>
                    </div>
                    <div class="selected-crop-name" id="selectedCropName"></div>
                    <div class="selected-crop-state" id="selectedCropState"></div>
                </div>

            </div>

            <!-- Input Cards - Below Wheel -->
            <div class="inputs-container" id="inputsContainer">
                <div class="input-card" data-input="price">
                    <div class="input-icon-wrap"><span class="input-icon">$</span></div>
                    <div class="input-label">Price</div>
                    <div class="input-value" id="priceValue">--</div>
                </div>
                <div class="input-card" data-input="harvestYield">
                    <div class="input-icon-wrap"><span class="input-icon">Y</span></div>
                    <div class="input-label">Harvest Yield</div>
                    <div class="input-value" id="harvestYieldValue">--</div>
                </div>
                <div class="input-card" data-input="cost">
                    <div class="input-icon-wrap"><span class="input-icon">C</span></div>
                    <div class="input-label">Cost</div>
                    <div class="input-value" id="costValue">--</div>
                </div>
                <div class="input-card" data-input="highYield">
                    <div class="input-icon-wrap"><span class="input-icon">H</span></div>
                    <div class="input-label">High Yield</div>
                    <div class="input-value" id="highYieldValue">--</div>
                </div>
                <div class="input-card" data-input="avgYield">
                    <div class="input-icon-wrap"><span class="input-icon">A</span></div>
                    <div class="input-label">Avg Yield</div>
                    <div class="input-value" id="avgYieldValue">--</div>
                </div>
            </div>
        </div>

        <!-- Calculate Button -->
        <div class="calc-section">
            <button class="calc-button" id="calcButton">
                <svg class="gear-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                </svg>
                Calculate Rent
            </button>
        </div>

        <!-- Result Section -->
        <div class="result-section">
            <div class="rent-result" id="rentResult">
                <div class="rent-rays"></div>
                <div class="rent-winner-banner">Your Rent Result</div>
                <div class="rent-label">Your Calculated Rent</div>
                <div class="rent-value-wrap">
                    <div class="rent-sparkles">
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                    </div>
                    <div class="rent-value-glow" id="rentValueGlow">$0.00</div>
                    <div class="rent-value" id="rentValue">$0.00</div>
                </div>
                <div class="rent-unit">per acre / per year</div>
            </div>
        </div>

        <!-- CTA Section -->
        <div class="cta-section" id="ctaSection">
            <a href="https://www.rentcurves.com" class="cta-main">
                Start Using Rent Curves
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
            <span class="cta-sub">Get precise rent calculations for all your fields</span>
        </div>

        <!-- Scroll Hint -->
        <div class="scroll-hint" id="scrollHint">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M5 12l7 7 7-7"/>
            </svg>
        </div>
    </section>

    <script>
        // ===========================================
        // CROP DATA (CMS/API) WITH THEMES
        // ===========================================
        const cropsData = [
            {
                id: 1, name: "Corn", state: "Iowa", icon: "",
                inputs: { price: 486, harvestYield: 220, cost: 425, highYield: 195, avgYield: 175 },
                apiData: { basePrice: 450, coverageLevel: 75, premium: 28, insuranceShared: true },
                theme: {
                    primary: '#d97706',      // Amber
                    secondary: '#f59e0b',    // Golden
                    accent: '#fbbf24',       // Light gold
                    glow: 'rgba(245, 158, 11, 0.5)',
                    bg1: 'rgba(217, 119, 6, 0.6)',   // Amber orb
                    bg2: 'rgba(251, 191, 36, 0.5)',  // Golden orb
                    bg3: 'rgba(180, 140, 60, 0.4)',   // Warm accent
                    particle: '#fbbf24',
                    seedColors: ['#fbbf24', '#f59e0b', '#d97706', '#fcd34d', '#fef3c7']
                }
            },
            {
                id: 2, name: "Soybeans", state: "Illinois", icon: "",
                inputs: { price: 1280, harvestYield: 58, cost: 380, highYield: 52, avgYield: 48 },
                apiData: { basePrice: 1200, coverageLevel: 70, premium: 22, insuranceShared: true },
                theme: {
                    primary: '#16a34a',      // Green
                    secondary: '#22c55e',    // Vibrant green
                    accent: '#4ade80',       // Light green
                    glow: 'rgba(34, 197, 94, 0.5)',
                    bg1: 'rgba(22, 163, 74, 0.6)',   // Green orb
                    bg2: 'rgba(74, 222, 128, 0.5)',  // Light green orb
                    bg3: 'rgba(34, 140, 80, 0.4)',    // Forest accent
                    particle: '#4ade80',
                    seedColors: ['#4ade80', '#22c55e', '#16a34a', '#86efac', '#dcfce7']
                }
            },
            {
                id: 3, name: "Wheat", state: "Kansas", icon: "",
                inputs: { price: 680, harvestYield: 45, cost: 295, highYield: 42, avgYield: 38 },
                apiData: { basePrice: 620, coverageLevel: 65, premium: 18, insuranceShared: true },
                theme: {
                    primary: '#b45309',      // Warm brown
                    secondary: '#d97706',    // Amber
                    accent: '#fbbf24',       // Wheat gold
                    glow: 'rgba(180, 83, 9, 0.5)',
                    bg1: 'rgba(180, 83, 9, 0.6)',    // Warm brown orb
                    bg2: 'rgba(217, 119, 6, 0.5)',   // Amber orb
                    bg3: 'rgba(161, 98, 7, 0.4)',     // Deep wheat
                    particle: '#fbbf24',
                    seedColors: ['#fbbf24', '#d97706', '#b45309', '#fcd34d', '#a16207']
                }
            },
            {
                id: 4, name: "Canola", state: "Montana", icon: "",
                inputs: { price: 1450, harvestYield: 32, cost: 320, highYield: 30, avgYield: 26 },
                apiData: { basePrice: 1380, coverageLevel: 70, premium: 24, insuranceShared: true },
                theme: {
                    primary: '#eab308',      // Bright yellow
                    secondary: '#facc15',    // Sunny yellow
                    accent: '#fde047',       // Light yellow
                    glow: 'rgba(234, 179, 8, 0.5)',
                    bg1: 'rgba(234, 179, 8, 0.6)',   // Bright yellow orb
                    bg2: 'rgba(253, 224, 71, 0.5)',  // Light yellow orb
                    bg3: 'rgba(202, 138, 4, 0.4)',    // Deep yellow
                    particle: '#fde047',
                    seedColors: ['#fde047', '#facc15', '#eab308', '#fef08a', '#fef9c3']
                }
            },
            {
                id: 5, name: "Cotton", state: "Texas", icon: "",
                inputs: { price: 92, harvestYield: 850, cost: 510, highYield: 920, avgYield: 780 },
                apiData: { basePrice: 88, coverageLevel: 75, premium: 35, insuranceShared: true },
                theme: {
                    primary: '#64748b',      // Slate
                    secondary: '#94a3b8',    // Light slate
                    accent: '#e2e8f0',       // Cloud white
                    glow: 'rgba(148, 163, 184, 0.5)',
                    bg1: 'rgba(148, 163, 184, 0.55)',  // Slate orb
                    bg2: 'rgba(226, 232, 240, 0.5)', // White/cloud orb
                    bg3: 'rgba(100, 116, 139, 0.4)',  // Deep slate
                    particle: '#e2e8f0',
                    seedColors: ['#e2e8f0', '#cbd5e1', '#94a3b8', '#f1f5f9', '#ffffff']
                }
            },
            {
                id: 6, name: "Rice", state: "Arkansas", icon: "",
                inputs: { price: 1520, harvestYield: 72, cost: 445, highYield: 78, avgYield: 68 },
                apiData: { basePrice: 1480, coverageLevel: 70, premium: 30, insuranceShared: true },
                theme: {
                    primary: '#0891b2',      // Cyan/teal
                    secondary: '#06b6d4',    // Bright cyan
                    accent: '#22d3ee',       // Light cyan
                    glow: 'rgba(6, 182, 212, 0.5)',
                    bg1: 'rgba(8, 145, 178, 0.6)',   // Teal orb
                    bg2: 'rgba(34, 211, 238, 0.5)',  // Light cyan orb
                    bg3: 'rgba(14, 116, 144, 0.4)',   // Deep water
                    particle: '#22d3ee',
                    seedColors: ['#22d3ee', '#06b6d4', '#0891b2', '#67e8f9', '#cffafe']
                }
            }
        ];

        // ===========================================
        // STATE
        // ===========================================
        let selectedCrop = null;
        let wheelRotation = 0;
        let currentTheme = null;

        // ===========================================
        // THEME SYSTEM
        // ===========================================
        function applyTheme(theme, instant = false) {
            if (!theme) return;

            const root = document.documentElement;
            const duration = instant ? '0s' : '1.2s';

            // Set transition duration for smooth theme changes
            root.style.setProperty('--theme-transition', duration);

            // Apply theme colors to CSS variables
            root.style.setProperty('--theme-primary', theme.primary);
            root.style.setProperty('--theme-secondary', theme.secondary);
            root.style.setProperty('--theme-accent', theme.accent);
            root.style.setProperty('--theme-glow', theme.glow);
            root.style.setProperty('--theme-bg-1', theme.bg1);
            root.style.setProperty('--theme-bg-2', theme.bg2);
            root.style.setProperty('--theme-bg-3', theme.bg3);
            root.style.setProperty('--theme-particle', theme.particle);

            // Update floating seeds colors
            updateSeedColors(theme.seedColors);

            // Create burst effect for dramatic theme change
            if (!instant) {
                createThemeBurst(theme.accent);
            }

            currentTheme = theme;
        }

        function updateSeedColors(colors) {
            const seeds = document.querySelectorAll('.seed');
            seeds.forEach((seed, i) => {
                const color = colors[i % colors.length];
                seed.style.background = color;
            });
        }

        function createThemeBurst(color) {
            const burst = document.createElement('div');
            burst.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                width: 10px;
                height: 10px;
                background: ${color};
                border-radius: 50%;
                transform: translate(-50%, -50%);
                pointer-events: none;
                z-index: 9999;
                opacity: 0.6;
            `;
            document.body.appendChild(burst);

            burst.animate([
                { transform: 'translate(-50%, -50%) scale(1)', opacity: 0.6 },
                { transform: 'translate(-50%, -50%) scale(200)', opacity: 0 }
            ], {
                duration: 1200,
                easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
            }).onfinish = () => burst.remove();
        }

        // Hint at theme when crop is in spotlight (during rotation)
        function hintTheme(theme, intensity = 0.3) {
            if (!theme) return;

            const root = document.documentElement;

            // Blend current theme with hint theme
            root.style.setProperty('--theme-bg-1', theme.bg1.replace('0.35', String(0.35 * intensity)));
            root.style.setProperty('--theme-bg-2', theme.bg2.replace('0.25', String(0.25 * intensity)));
        }

        // ===========================================
        // DOM ELEMENTS
        // ===========================================
        const cropWheel = document.getElementById('cropWheel');
        const selectedCropName = document.getElementById('selectedCropName');
        const selectedCropState = document.getElementById('selectedCropState');
        const centerGlow = document.getElementById('centerGlow');
        const centerPrompt = document.getElementById('centerPrompt');
        const calcButton = document.getElementById('calcButton');
        const rentResult = document.getElementById('rentResult');
        const rentValue = document.getElementById('rentValue');
        const rentValueGlow = document.getElementById('rentValueGlow');
        const ctaSection = document.getElementById('ctaSection');
        const instruction = document.getElementById('instruction');
        const scrollHint = document.getElementById('scrollHint');
        const celebration = document.getElementById('celebration');

        // ===========================================
        // CREATE FLOATING SEEDS
        // ===========================================
        function createSeeds() {
            const container = document.getElementById('seeds');
            const numSeeds = 25;
            const colors = ['#10b981', '#34d399', '#6ee7b7', '#fbbf24', '#f59e0b'];

            for (let i = 0; i < numSeeds; i++) {
                const seed = document.createElement('div');
                seed.className = 'seed';
                seed.style.left = Math.random() * 100 + '%';
                seed.style.animationDelay = Math.random() * 25 + 's';
                seed.style.animationDuration = (20 + Math.random() * 15) + 's';
                seed.style.background = colors[Math.floor(Math.random() * colors.length)];
                seed.style.width = (2 + Math.random() * 3) + 'px';
                seed.style.height = seed.style.width;
                container.appendChild(seed);
            }
        }

        // ===========================================
        // RESPONSIVE WHEEL RADIUS
        // ===========================================
        function getWheelRadius() {
            const width = window.innerWidth;
            if (width <= 479) return 100;
            if (width <= 599) return 115;
            if (width <= 767) return 140;
            if (width <= 899) return 170;
            if (width <= 1023) return 195;
            return 215;
        }

        // ===========================================
        // INITIALIZE WHEEL
        // ===========================================
        function initWheel() {
            const numCrops = cropsData.length;
            const angleStep = 360 / numCrops;
            const radius = getWheelRadius();

            cropsData.forEach((crop, index) => {
                const angle = angleStep * index - 90;
                const radians = (angle * Math.PI) / 180;
                const x = Math.cos(radians) * radius;
                const y = Math.sin(radians) * radius;

                const cropEl = document.createElement('div');
                cropEl.className = `crop-item crop-${crop.name.toLowerCase()}`;
                cropEl.dataset.cropId = crop.id;
                cropEl.dataset.angle = angle;
                cropEl.style.transform = `translate(${x}px, ${y}px)`;
                cropEl.innerHTML = `
                    <div class="crop-item-inner">
                        <span class="crop-icon">${crop.icon}</span>
                        <div class="crop-label">
                            <span class="crop-name">${crop.name}</span>
                            <span class="crop-state">${crop.state}</span>
                        </div>
                    </div>
                `;

                // Click handler added in initAutoRotation
                cropWheel.appendChild(cropEl);
            });
        }

        // ===========================================
        // UPDATE WHEEL ON RESIZE
        // ===========================================
        function updateWheelPositions() {
            const radius = getWheelRadius();
            const numCrops = cropsData.length;
            const angleStep = 360 / numCrops;

            document.querySelectorAll('.crop-item').forEach((cropEl, index) => {
                const angle = angleStep * index - 90;
                const radians = (angle * Math.PI) / 180;
                const x = Math.cos(radians) * radius;
                const y = Math.sin(radians) * radius;

                const baseTransform = `translate(${x}px, ${y}px)`;
                cropEl.dataset.baseTransform = baseTransform;
                cropEl.style.transform = baseTransform + `rotate(${-wheelRotation}deg)`;
            });
        }

        // Debounce resize handler
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(updateWheelPositions, 150);
        });

        // ===========================================
        // SELECT CROP
        // ===========================================
        function selectCrop(crop) {
            document.querySelectorAll('.crop-item').forEach(el => el.classList.remove('selected'));
            const cropEl = document.querySelector(`[data-crop-id="${crop.id}"]`);
            cropEl.classList.add('selected');

            selectedCrop = crop;

            // APPLY CROP THEME - Transform the entire page!
            applyTheme(crop.theme);

            // Hide prompt, show selection
            centerPrompt.classList.add('hidden');
            centerGlow.classList.add('active');

            selectedCropName.textContent = crop.name;
            selectedCropName.classList.add('active');
            selectedCropState.textContent = crop.state;
            selectedCropState.classList.add('active');

            // Update selected crop name color to match theme
            selectedCropName.style.textShadow = `0 0 60px ${crop.theme.glow}`;
            selectedCropState.style.color = crop.theme.secondary;

            showInputValues(crop);
            calcButton.classList.add('visible');
            scrollHint.classList.add('hidden');

            // Update instruction with theme color
            instruction.innerHTML = `
                <div class="instruction-icon" style="background: ${crop.theme.primary};">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <polyline points="20 6 9 17 4 12"/>
                    </svg>
                </div>
                <span class="instruction-text">${crop.name} selected - now calculate!</span>
            `;
            instruction.style.borderColor = `${crop.theme.primary}40`;
            instruction.style.background = `linear-gradient(135deg, ${crop.theme.primary}20 0%, ${crop.theme.secondary}15 100%)`;

            rentResult.classList.remove('visible');
            ctaSection.classList.remove('visible');
        }

        // ===========================================
        // SHOW INPUT VALUES
        // ===========================================
        function showInputValues(crop) {
            const inputCards = document.querySelectorAll('.input-card');
            const theme = crop.theme;

            inputCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('visible');
                    card.classList.add('shimmer');

                    // Apply theme colors to input cards
                    const iconWrap = card.querySelector('.input-icon-wrap');
                    if (iconWrap) {
                        iconWrap.style.background = `linear-gradient(135deg, ${theme.primary} 0%, ${theme.secondary} 100%)`;
                        iconWrap.style.boxShadow = `0 4px 15px ${theme.glow}`;
                    }

                    // Update shimmer color
                    card.style.setProperty('--shimmer-color', theme.accent);

                    setTimeout(() => card.classList.remove('shimmer'), 1500);
                }, index * 120);
            });

            setTimeout(() => animateValue('priceValue', 0, crop.inputs.price, '$'), 100);
            setTimeout(() => animateValue('harvestYieldValue', 0, crop.inputs.harvestYield, ''), 200);
            setTimeout(() => animateValue('costValue', 0, crop.inputs.cost, '$'), 300);
            setTimeout(() => animateValue('highYieldValue', 0, crop.inputs.highYield, ''), 400);
            setTimeout(() => animateValue('avgYieldValue', 0, crop.inputs.avgYield, ''), 500);
        }

        // ===========================================
        // ANIMATE VALUE
        // ===========================================
        function animateValue(elementId, start, end, prefix = '') {
            const element = document.getElementById(elementId);
            const duration = 900;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 4);
                const current = Math.round(start + (end - start) * easeOut);
                element.textContent = prefix + current.toLocaleString();

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            requestAnimationFrame(update);
        }

        // ===========================================
        // CALCULATE RENT
        // ===========================================
        async function calculateRent() {
            if (!selectedCrop) return;

            calcButton.classList.add('calculating');

            try {
                // TODO: Replace with actual API call
                await new Promise(resolve => setTimeout(resolve, 1800));
                const rentAmount = calculateMockRent(selectedCrop);
                showRentResult(rentAmount);
            } catch (error) {
                console.error('API Error:', error);
            } finally {
                calcButton.classList.remove('calculating');
            }
        }

        function calculateMockRent(crop) {
            const { price, harvestYield, cost, avgYield } = crop.inputs;
            const grossRevenue = price * harvestYield / 100;
            const netReturn = grossRevenue - cost;
            const rent = netReturn * 0.35;
            return Math.max(0, rent);
        }

        // ===========================================
        // SHOW RENT RESULT
        // ===========================================
        function showRentResult(amount) {
            const theme = selectedCrop.theme;

            // Update rent value styling with theme colors
            rentValue.style.background = `linear-gradient(135deg, ${theme.accent} 0%, ${theme.primary} 50%, ${theme.secondary} 100%)`;
            rentValue.style.webkitBackgroundClip = 'text';
            rentValue.style.webkitTextFillColor = 'transparent';
            rentValueGlow.style.color = theme.accent;

            // Update sparkles with theme color
            document.querySelectorAll('.sparkle').forEach(sparkle => {
                sparkle.style.background = theme.accent;
            });

            // Update rays with theme color
            const raysEl = document.querySelector('.rent-rays');
            if (raysEl) {
                raysEl.style.setProperty('--ray-color', `${theme.accent}20`);
            }

            // Add revealing class for slot-machine animation
            rentResult.classList.add('revealing');

            // Short delay then show result
            setTimeout(() => {
                rentResult.classList.remove('revealing');
                rentResult.classList.add('visible');
                createCelebration(theme);

                // Play a subtle "cha-ching" sound effect (optional)
                playWinSound();
            }, 200);

            const duration = 1500;
            const startTime = performance.now();

            function updateRent(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeOut = 1 - Math.pow(1 - progress, 5);
                const current = amount * easeOut;
                const formatted = '$' + current.toFixed(2);
                rentValue.textContent = formatted;
                rentValueGlow.textContent = formatted;

                if (progress < 1) {
                    requestAnimationFrame(updateRent);
                } else {
                    setTimeout(() => ctaSection.classList.add('visible'), 400);
                }
            }

            // Delay the number animation slightly for dramatic effect
            setTimeout(() => requestAnimationFrame(updateRent), 300);

            instruction.innerHTML = `
                <div class="instruction-icon" style="background: linear-gradient(135deg, ${theme.primary} 0%, ${theme.secondary} 100%);">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M12 2L15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2z"/>
                    </svg>
                </div>
                <span class="instruction-text">Your ${selectedCrop.name} rent is ready!</span>
            `;
        }

        // ===========================================
        // CASINO WIN SOUND (Web Audio API)
        // ===========================================
        function playWinSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();

                // Create a "cha-ching" type sound
                const frequencies = [523.25, 659.25, 783.99, 1046.50]; // C5, E5, G5, C6

                frequencies.forEach((freq, i) => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.type = 'sine';
                    oscillator.frequency.value = freq;

                    const startTime = audioContext.currentTime + (i * 0.08);
                    gainNode.gain.setValueAtTime(0.15, startTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.3);

                    oscillator.start(startTime);
                    oscillator.stop(startTime + 0.3);
                });
            } catch (e) {
                // Audio not supported, silently fail
            }
        }

        // ===========================================
        // CELEBRATION PARTICLES
        // ===========================================
        function createCelebration(theme) {
            // Use theme colors for celebration particles
            const colors = theme ? theme.seedColors : ['#fbbf24', '#f59e0b', '#d97706', '#10b981', '#34d399'];
            const numParticles = 80; // More particles for bigger celebration

            for (let i = 0; i < numParticles; i++) {
                const particle = document.createElement('div');
                particle.className = 'confetti';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = '50%';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.width = (5 + Math.random() * 10) + 'px';
                particle.style.height = particle.style.width;
                particle.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';

                celebration.appendChild(particle);

                // Animate
                const angle = Math.random() * Math.PI * 2;
                const velocity = 200 + Math.random() * 300;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity - 200;

                particle.animate([
                    {
                        transform: 'translate(0, 0) rotate(0deg)',
                        opacity: 1
                    },
                    {
                        transform: `translate(${vx}px, ${vy + 500}px) rotate(${Math.random() * 720}deg)`,
                        opacity: 0
                    }
                ], {
                    duration: 1500 + Math.random() * 1000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => particle.remove();
            }
        }

        // ===========================================
        // AUTO-ROTATING WHEEL WITH SPOTLIGHT
        // ===========================================
        let isSpinning = true;
        let spinSpeed = 0.3;  // 20 second full rotation
        let cropElements = [];
        let spotlightCrop = null;


        // Create highlight particles around spotlit crop
        let highlightParticles = [];
        function createHighlightParticles(element, theme) {
            // Clear old particles
            highlightParticles.forEach(p => p.remove());
            highlightParticles = [];

            const rect = element.getBoundingClientRect();
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            // Create 8 orbiting particles
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = 'crop-highlight-particle';

                // Random starting position around the shape
                const angle = (i / 8) * Math.PI * 2;
                const radius = 55 + Math.random() * 15;
                const startX = Math.cos(angle) * radius;
                const startY = Math.sin(angle) * radius;

                // Random end position (floating outward)
                const endX = startX + (Math.random() - 0.5) * 40;
                const endY = startY - 20 - Math.random() * 30;

                particle.style.cssText = `
                    left: ${centerX + startX}px;
                    top: ${centerY + startY}px;
                    background: ${theme.accent};
                    box-shadow: 0 0 10px ${theme.glow};
                    --px: ${endX - startX}px;
                    --py: ${endY - startY}px;
                    --particle-duration: ${1.5 + Math.random() * 1.5}s;
                    animation-delay: ${i * 0.15}s;
                `;

                element.appendChild(particle);
                highlightParticles.push(particle);
            }
        }

        function clearHighlightParticles() {
            highlightParticles.forEach(p => p.remove());
            highlightParticles = [];
        }

        function initAutoRotation() {
            // Store crop element references with their base angles
            const items = document.querySelectorAll('.crop-item');
            items.forEach((el, i) => {
                const angle = (360 / cropsData.length) * i - 90;
                cropElements.push({
                    el: el,
                    baseAngle: angle,
                    crop: cropsData[i]
                });
            });

            startAutoRotation();
        }

        function startAutoRotation() {
            const radius = getWheelRadius();

            function animate() {
                if (!isSpinning) return;

                wheelRotation += spinSpeed;

                // Update morph speed based on rotation speed (faster spin = faster morph)
                const morphSpeed = Math.max(1.5, (8 - (spinSpeed * 12)) * 1.3); // Slower with higher variation // 5% slower
                document.documentElement.style.setProperty('--morph-speed', morphSpeed + 's');

                // Update each crop position
                cropElements.forEach((item, i) => {
                    const angle = item.baseAngle + wheelRotation;
                    const rad = (angle * Math.PI) / 180;
                    const x = Math.cos(rad) * radius;
                    const y = Math.sin(rad) * radius;

                    // Calculate distance from top position (270 degrees)
                    const normalizedAngle = ((angle % 360) + 360) % 360;
                    const distanceFromTop = Math.abs(normalizedAngle - 270);
                    const atTop = distanceFromTop < 25 || distanceFromTop > 335;

                    // Spotlight effect - scale and glow crop at top
                    const scale = atTop ? 1.12 : 1;
                    const glowIntensity = atTop ? 1 : 0;

                    item.el.style.transform = `translate(${x}px, ${y}px) scale(${scale})`;

                    if (atTop && !selectedCrop) {
                        // Apply spotlight glow
                        item.el.querySelector('.crop-item-inner').style.boxShadow =
                            `0 0 40px ${item.crop.theme.glow}, inset 0 0 15px ${item.crop.theme.glow}`;
                        item.el.querySelector('.crop-item-inner').style.borderColor = item.crop.theme.secondary;

                        // Apply FULL theme change when crop is in spotlight
                        if (spotlightCrop !== item.crop) {
                            spotlightCrop = item.crop;
                            hintThemeSpotlight(item.crop.theme, item.crop.name);

                            // Create highlight particles around the spotlit crop
                            createHighlightParticles(item.el, item.crop.theme);

                            // Show spotlight crop name in center
                            const centerPromptText = document.querySelector('.center-prompt-text');
                            if (centerPromptText) {
                                centerPromptText.textContent = item.crop.name;
                                centerPromptText.style.color = item.crop.theme.accent;
                                centerPromptText.style.fontSize = '1.2rem';
                                centerPromptText.style.fontWeight = '600';
                                centerPromptText.style.textShadow = `0 0 20px ${item.crop.theme.glow}`;
                            }
                        }
                    } else if (!selectedCrop) {
                        // Reset non-spotlight crops
                        item.el.querySelector('.crop-item-inner').style.boxShadow = '';
                        item.el.querySelector('.crop-item-inner').style.borderColor = '';
                        // Remove particles from non-spotlight crops
                        item.el.querySelectorAll('.crop-highlight-particle').forEach(p => p.remove());
                    }
                });

                requestAnimationFrame(animate);
            }

            animate();
        }


        // ===========================================
        // CROP-SPECIFIC PARTICLE SYSTEM
        // ===========================================
        let currentCropParticles = null;
        let particleIntervals = {};

        
        // ========================================
        // CROP SCENE CONFIGURATION - SVG-based
        // ========================================
        const cropSceneConfig = {
            'Corn': {
                sceneId: 'corn-scene',
                initScene: () => {
                    const stalksContainer = document.getElementById('corn-stalks');
                    const particlesContainer = document.getElementById('corn-particles');
                    stalksContainer.innerHTML = '';
                    particlesContainer.innerHTML = '';

                    // Create 8 corn stalks with varied positions - more dramatic layout
                    for (let i = 1; i <= 8; i++) {
                        const stalk = document.createElement('div');
                        stalk.className = 'corn-stalk corn-stalk--' + i;
                        stalk.innerHTML = `
                            <svg viewBox="0 0 80 350" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <!-- Main stalk -->
                                <path d="M40 350 L40 60" stroke="url(#cornStalk${i})" stroke-width="10" stroke-linecap="round"/>
                                <!-- Big corn cob with detail -->
                                <ellipse cx="40" cy="55" rx="20" ry="45" fill="url(#cornCob${i})"/>
                                <!-- Corn kernel rows -->
                                <ellipse cx="30" cy="45" rx="4" ry="6" fill="#fde047" opacity="0.8"/>
                                <ellipse cx="40" cy="42" rx="4" ry="6" fill="#fde047" opacity="0.8"/>
                                <ellipse cx="50" cy="45" rx="4" ry="6" fill="#fde047" opacity="0.8"/>
                                <ellipse cx="35" cy="55" rx="4" ry="6" fill="#f59e0b" opacity="0.7"/>
                                <ellipse cx="45" cy="55" rx="4" ry="6" fill="#f59e0b" opacity="0.7"/>
                                <ellipse cx="32" cy="65" rx="4" ry="6" fill="#d97706" opacity="0.6"/>
                                <ellipse cx="48" cy="65" rx="4" ry="6" fill="#d97706" opacity="0.6"/>
                                <!-- Corn silk at top -->
                                <path d="M35 15 Q30 5 25 -5" stroke="#fde047" stroke-width="1.5" fill="none" opacity="0.7"/>
                                <path d="M40 12 Q40 0 42 -8" stroke="#fde047" stroke-width="1.5" fill="none" opacity="0.7"/>
                                <path d="M45 15 Q50 5 55 -5" stroke="#fde047" stroke-width="1.5" fill="none" opacity="0.7"/>
                                <!-- Large dramatic leaves -->
                                <path d="M15 120 Q-20 90 10 50" stroke="#22c55e" stroke-width="6" fill="none" opacity="0.9"/>
                                <path d="M65 140 Q100 110 70 70" stroke="#22c55e" stroke-width="6" fill="none" opacity="0.9"/>
                                <path d="M12 200 Q-25 170 8 130" stroke="#16a34a" stroke-width="5" fill="none" opacity="0.8"/>
                                <path d="M68 220 Q105 190 72 150" stroke="#16a34a" stroke-width="5" fill="none" opacity="0.8"/>
                                <path d="M10 280 Q-20 250 15 210" stroke="#166534" stroke-width="4" fill="none" opacity="0.7"/>
                                <path d="M70 300 Q100 270 65 230" stroke="#166534" stroke-width="4" fill="none" opacity="0.7"/>
                                <defs>
                                    <linearGradient id="cornStalk${i}" x1="0" y1="0" x2="0" y2="1">
                                        <stop offset="0%" stop-color="#22c55e"/>
                                        <stop offset="60%" stop-color="#16a34a"/>
                                        <stop offset="100%" stop-color="#166534"/>
                                    </linearGradient>
                                    <linearGradient id="cornCob${i}" x1="0" y1="0" x2="0" y2="1">
                                        <stop offset="0%" stop-color="#fde047"/>
                                        <stop offset="30%" stop-color="#fbbf24"/>
                                        <stop offset="70%" stop-color="#f59e0b"/>
                                        <stop offset="100%" stop-color="#d97706"/>
                                    </linearGradient>
                                </defs>
                            </svg>
                        `;
                        stalksContainer.appendChild(stalk);
                    }

                    // Create enhanced falling kernels with trails
                    for (let i = 0; i < 25; i++) {
                        setTimeout(() => {
                            const kernel = document.createElement('div');
                            kernel.className = 'corn-kernel';
                            kernel.style.left = (5 + Math.random() * 90) + '%';
                            kernel.style.animationDuration = (8 + Math.random() * 6) + 's';
                            kernel.style.animationDelay = (Math.random() * 8) + 's';
                            particlesContainer.appendChild(kernel);
                        }, i * 150);
                    }

                    // Create golden pollen/dust with shimmer
                    for (let i = 0; i < 40; i++) {
                        const dust = document.createElement('div');
                        dust.className = 'corn-dust';
                        dust.style.left = Math.random() * 100 + '%';
                        dust.style.top = Math.random() * 100 + '%';
                        dust.style.animationDuration = (10 + Math.random() * 10) + 's';
                        dust.style.animationDelay = (Math.random() * 8) + 's';
                        particlesContainer.appendChild(dust);
                    }

                    // Create floating corn silk strands
                    for (let i = 0; i < 15; i++) {
                        const silk = document.createElement('div');
                        silk.className = 'corn-silk';
                        silk.style.left = (10 + Math.random() * 80) + '%';
                        silk.style.top = (20 + Math.random() * 60) + '%';
                        silk.style.animationDuration = (6 + Math.random() * 4) + 's';
                        silk.style.animationDelay = (Math.random() * 5) + 's';
                        silk.style.height = (30 + Math.random() * 30) + 'px';
                        particlesContainer.appendChild(silk);
                    }

                    // Create golden sparkles/fireflies
                    for (let i = 0; i < 20; i++) {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'corn-sparkle';
                        sparkle.style.left = Math.random() * 100 + '%';
                        sparkle.style.top = Math.random() * 80 + '%';
                        sparkle.style.animationDuration = (2 + Math.random() * 3) + 's';
                        sparkle.style.animationDelay = (Math.random() * 4) + 's';
                        particlesContainer.appendChild(sparkle);
                    }
                }
            },

            'Soybeans': {
                sceneId: 'soybean-scene',
                initScene: () => {
                    const plantsContainer = document.getElementById('soybean-plants');
                    const particlesContainer = document.getElementById('soybean-particles');
                    plantsContainer.innerHTML = '';
                    particlesContainer.innerHTML = '';

                    // Create soybean plants
                    for (let i = 0; i < 12; i++) {
                        const plant = document.createElement('div');
                        plant.className = 'soybean-plant';
                        plant.style.left = (5 + i * 8) + '%';
                        plant.style.height = (25 + Math.random() * 15) + 'vh';
                        plant.style.animationDelay = (i * 0.15) + 's';
                        plant.innerHTML = `
                            <svg viewBox="0 0 80 200" fill="none" style="width: 80px; height: 100%;">
                                <path d="M40 200 L40 30" stroke="#166534" stroke-width="4"/>
                                <ellipse cx="25" cy="50" rx="18" ry="12" fill="#22c55e" transform="rotate(-30 25 50)"/>
                                <ellipse cx="55" cy="70" rx="18" ry="12" fill="#16a34a" transform="rotate(30 55 70)"/>
                                <ellipse cx="22" cy="100" rx="16" ry="10" fill="#22c55e" transform="rotate(-25 22 100)"/>
                                <ellipse cx="58" cy="130" rx="16" ry="10" fill="#16a34a" transform="rotate(25 58 130)"/>
                                <ellipse cx="20" cy="160" rx="14" ry="9" fill="#22c55e" transform="rotate(-20 20 160)"/>
                            </svg>
                        `;
                        plantsContainer.appendChild(plant);
                    }

                    // Create floating pods
                    for (let i = 0; i < 15; i++) {
                        setTimeout(() => {
                            const pod = document.createElement('div');
                            pod.className = 'soybean-pod';
                            pod.style.left = (5 + Math.random() * 90) + '%';
                            pod.style.animationDuration = (10 + Math.random() * 6) + 's';
                            pod.style.animationDelay = (Math.random() * 8) + 's';
                            particlesContainer.appendChild(pod);
                        }, i * 300);
                    }

                    // Create floating leaves
                    for (let i = 0; i < 12; i++) {
                        const leaf = document.createElement('div');
                        leaf.className = 'soybean-leaf';
                        leaf.style.left = Math.random() * 100 + '%';
                        leaf.style.top = Math.random() * 80 + '%';
                        leaf.style.animationDuration = (4 + Math.random() * 3) + 's';
                        leaf.style.animationDelay = (Math.random() * 3) + 's';
                        leaf.style.transform = 'rotate(' + (Math.random() * 360) + 'deg)';
                        particlesContainer.appendChild(leaf);
                    }
                }
            },

            'Wheat': {
                sceneId: 'wheat-scene',
                initScene: () => {
                    const fieldContainer = document.getElementById('wheat-field');
                    const particlesContainer = document.getElementById('wheat-particles');
                    fieldContainer.innerHTML = '';
                    particlesContainer.innerHTML = '';

                    // Create wheat field - dense stalks
                    for (let i = 0; i < 40; i++) {
                        const stalk = document.createElement('div');
                        stalk.className = 'wheat-stalk';
                        stalk.style.left = (i * 2.5 + Math.random() * 2) + '%';
                        stalk.style.height = (30 + Math.random() * 20) + 'vh';
                        stalk.style.animationDelay = (Math.random() * 2) + 's';
                        stalk.style.animationDuration = (2 + Math.random() * 2) + 's';
                        stalk.innerHTML = '<div class="wheat-head"></div>';
                        fieldContainer.appendChild(stalk);
                    }

                    // Create floating grain particles
                    for (let i = 0; i < 25; i++) {
                        setTimeout(() => {
                            const grain = document.createElement('div');
                            grain.className = 'wheat-grain';
                            grain.style.left = (5 + Math.random() * 90) + '%';
                            grain.style.animationDuration = (8 + Math.random() * 6) + 's';
                            grain.style.animationDelay = (Math.random() * 6) + 's';
                            particlesContainer.appendChild(grain);
                        }, i * 150);
                    }
                }
            },

            'Canola': {
                sceneId: 'canola-scene',
                initScene: () => {
                    const glowsContainer = document.getElementById('canola-glows');
                    const flowersContainer = document.getElementById('canola-flowers');
                    const particlesContainer = document.getElementById('canola-particles');
                    glowsContainer.innerHTML = '';
                    flowersContainer.innerHTML = '';
                    particlesContainer.innerHTML = '';

                    // Create ambient glows
                    for (let i = 0; i < 5; i++) {
                        const glow = document.createElement('div');
                        glow.className = 'canola-glow';
                        glow.style.left = (10 + Math.random() * 80) + '%';
                        glow.style.top = (10 + Math.random() * 60) + '%';
                        glow.style.animationDelay = (i * 0.8) + 's';
                        glowsContainer.appendChild(glow);
                    }

                    // Create canola flowers
                    const flowerPositions = [5, 12, 20, 75, 85, 92];
                    flowerPositions.forEach((pos, i) => {
                        const flower = document.createElement('div');
                        flower.className = 'canola-flower';
                        flower.style.left = pos + '%';
                        flower.style.bottom = '0';
                        flower.style.animationDelay = (i * 0.3) + 's';
                        flower.innerHTML = `
                            <svg viewBox="0 0 100 250" width="80" height="${180 + Math.random() * 60}" fill="none">
                                <path d="M50 250 L50 80" stroke="#166534" stroke-width="6"/>
                                <circle cx="50" cy="50" r="30" fill="#fde047"/>
                                <circle cx="50" cy="50" r="15" fill="#ca8a04"/>
                                <ellipse cx="50" cy="15" rx="12" ry="18" fill="#fde047"/>
                                <ellipse cx="85" cy="50" rx="18" ry="12" fill="#fde047"/>
                                <ellipse cx="50" cy="85" rx="12" ry="18" fill="#fde047"/>
                                <ellipse cx="15" cy="50" rx="18" ry="12" fill="#fde047"/>
                                <ellipse cx="75" cy="25" rx="10" ry="15" fill="#fde047" transform="rotate(45 75 25)"/>
                                <ellipse cx="75" cy="75" rx="10" ry="15" fill="#fde047" transform="rotate(-45 75 75)"/>
                                <ellipse cx="25" cy="75" rx="10" ry="15" fill="#fde047" transform="rotate(45 25 75)"/>
                                <ellipse cx="25" cy="25" rx="10" ry="15" fill="#fde047" transform="rotate(-45 25 25)"/>
                            </svg>
                        `;
                        flowersContainer.appendChild(flower);
                    });

                    // Create falling petals
                    for (let i = 0; i < 20; i++) {
                        setTimeout(() => {
                            const petal = document.createElement('div');
                            petal.className = 'canola-petal';
                            petal.style.left = (5 + Math.random() * 90) + '%';
                            petal.style.setProperty('--drift-x', (Math.random() * 160 - 80) + 'px');
                            petal.style.animationDuration = (10 + Math.random() * 6) + 's';
                            petal.style.animationDelay = (Math.random() * 5) + 's';
                            particlesContainer.appendChild(petal);
                        }, i * 250);
                    }
                }
            },

            'Cotton': {
                sceneId: 'cotton-scene',
                initScene: () => {
                    const bollsContainer = document.getElementById('cotton-bolls');
                    const particlesContainer = document.getElementById('cotton-particles');
                    bollsContainer.innerHTML = '';
                    particlesContainer.innerHTML = '';

                    // Create cotton bolls/plants
                    const positions = [8, 18, 28, 68, 78, 88];
                    positions.forEach((pos, i) => {
                        const boll = document.createElement('div');
                        boll.className = 'cotton-boll';
                        boll.style.left = pos + '%';
                        boll.style.bottom = '5%';
                        boll.style.animationDelay = (i * 0.5) + 's';
                        boll.innerHTML = `
                            <svg viewBox="0 0 100 180" width="90" height="${140 + Math.random() * 40}" fill="none">
                                <path d="M50 180 L50 80" stroke="#92400e" stroke-width="5"/>
                                <circle cx="35" cy="50" r="22" fill="white" filter="url(#cottonBlur)"/>
                                <circle cx="65" cy="45" r="20" fill="white" filter="url(#cottonBlur)"/>
                                <circle cx="50" cy="30" r="24" fill="white" filter="url(#cottonBlur)"/>
                                <circle cx="40" cy="65" r="18" fill="#f8fafc" filter="url(#cottonBlur)"/>
                                <circle cx="60" cy="60" r="16" fill="#f8fafc" filter="url(#cottonBlur)"/>
                                <defs>
                                    <filter id="cottonBlur" x="-20%" y="-20%" width="140%" height="140%">
                                        <feGaussianBlur stdDeviation="2"/>
                                    </filter>
                                </defs>
                            </svg>
                        `;
                        bollsContainer.appendChild(boll);
                    });

                    // Create floating cotton fluff
                    for (let i = 0; i < 15; i++) {
                        setTimeout(() => {
                            const fluff = document.createElement('div');
                            fluff.className = 'cotton-fluff';
                            fluff.style.left = Math.random() * 100 + '%';
                            fluff.style.setProperty('--drift-x', (Math.random() * 200 - 100) + 'px');
                            fluff.style.animationDuration = (15 + Math.random() * 10) + 's';
                            fluff.style.animationDelay = (Math.random() * 8) + 's';
                            particlesContainer.appendChild(fluff);
                        }, i * 400);
                    }

                    // Create wispy lines
                    for (let i = 0; i < 8; i++) {
                        const wisp = document.createElement('div');
                        wisp.className = 'cotton-wisp';
                        wisp.style.top = (20 + Math.random() * 60) + '%';
                        wisp.style.animationDuration = (6 + Math.random() * 4) + 's';
                        wisp.style.animationDelay = (i * 1.5) + 's';
                        particlesContainer.appendChild(wisp);
                    }
                }
            },

            'Rice': {
                sceneId: 'rice-scene',
                initScene: () => {
                    const stalksContainer = document.getElementById('rice-stalks');
                    const particlesContainer = document.getElementById('rice-particles');
                    stalksContainer.innerHTML = '';
                    particlesContainer.innerHTML = '';

                    // Create rice paddy stalks
                    for (let i = 0; i < 30; i++) {
                        const stalk = document.createElement('div');
                        stalk.className = 'rice-stalk';
                        stalk.style.left = (i * 3.3 + Math.random() * 2) + '%';
                        stalk.style.bottom = '0';
                        stalk.style.animationDelay = (Math.random() * 2) + 's';
                        stalk.innerHTML = `
                            <svg viewBox="0 0 40 180" width="30" height="${120 + Math.random() * 50}" fill="none">
                                <path d="M20 180 L20 40" stroke="#65a30d" stroke-width="3"/>
                                <path d="M20 40 Q30 20 20 5" stroke="#65a30d" stroke-width="2" fill="none"/>
                                <ellipse cx="22" cy="25" rx="4" ry="8" fill="#e0f2fe"/>
                                <ellipse cx="18" cy="35" rx="4" ry="8" fill="#bae6fd"/>
                                <ellipse cx="24" cy="45" rx="4" ry="7" fill="#e0f2fe"/>
                                <ellipse cx="16" cy="55" rx="3" ry="6" fill="#bae6fd"/>
                            </svg>
                        `;
                        stalksContainer.appendChild(stalk);
                    }

                    // Create falling rice grains
                    for (let i = 0; i < 30; i++) {
                        setTimeout(() => {
                            const grain = document.createElement('div');
                            grain.className = 'rice-grain';
                            grain.style.left = (5 + Math.random() * 90) + '%';
                            grain.style.animationDuration = (4 + Math.random() * 3) + 's';
                            grain.style.animationDelay = (Math.random() * 4) + 's';
                            particlesContainer.appendChild(grain);
                        }, i * 100);
                    }

                    // Create water drops
                    for (let i = 0; i < 20; i++) {
                        setTimeout(() => {
                            const drop = document.createElement('div');
                            drop.className = 'water-drop';
                            drop.style.left = (5 + Math.random() * 90) + '%';
                            drop.style.animationDuration = (3 + Math.random() * 2) + 's';
                            drop.style.animationDelay = (Math.random() * 5) + 's';
                            particlesContainer.appendChild(drop);
                        }, i * 200);
                    }

                    // Create ripple effects at bottom
                    for (let i = 0; i < 8; i++) {
                        const ripple = document.createElement('div');
                        ripple.className = 'ripple-ring';
                        ripple.style.left = (10 + Math.random() * 80) + '%';
                        ripple.style.animationDelay = (i * 0.4) + 's';
                        particlesContainer.appendChild(ripple);
                    }
                }
            }
        };

        let currentCropScene = null;
        let previousScene = null;
        let sceneIntervals = {};
        let fadeTimeout = null;

        function switchCropScene(cropName) {
            // Skip if same scene
            if (currentCropScene === cropName) return;

            const config = cropSceneConfig[cropName];
            if (!config) return;

            const newScene = document.getElementById(config.sceneId);
            if (!newScene) return;

            // Clear any pending fade timeout
            if (fadeTimeout) {
                clearTimeout(fadeTimeout);
            }

            // Store previous scene reference
            const oldScene = previousScene;

            // Initialize the new scene elements
            config.initScene();

            // Add transitioning class for crossfade
            newScene.classList.add('active');
            newScene.classList.add('fading-in');

            // Remove fading-in class after animation starts
            setTimeout(() => newScene.classList.remove('fading-in'), 50);

            // Fade out old scene after a delay (crossfade overlap)
            fadeTimeout = setTimeout(() => {
                document.querySelectorAll('.crop-scene').forEach(s => {
                    if (s !== newScene) {
                        s.classList.remove('active');
                    }
                });

                // Clear intervals for old scenes
                Object.values(sceneIntervals).forEach(clearInterval);
                sceneIntervals = {};
            }, 600); // Overlap duration for crossfade

            previousScene = newScene;
            currentCropScene = cropName;

            // Set up continuous particle spawning for some scenes
            if (cropName === 'Corn') {
                sceneIntervals['corn'] = setInterval(() => {
                    const container = document.getElementById('corn-particles');
                    if (container && container.querySelectorAll('.corn-kernel').length < 25) {
                        const kernel = document.createElement('div');
                        kernel.className = 'corn-kernel';
                        kernel.style.left = (10 + Math.random() * 80) + '%';
                        kernel.style.animationDuration = (6 + Math.random() * 4) + 's';
                        container.appendChild(kernel);
                        setTimeout(() => kernel.remove(), 12000);
                    }
                }, 600);
            }

            if (cropName === 'Rice') {
                sceneIntervals['rice'] = setInterval(() => {
                    const container = document.getElementById('rice-particles');
                    if (container && container.querySelectorAll('.rice-grain').length < 35) {
                        const grain = document.createElement('div');
                        grain.className = 'rice-grain';
                        grain.style.left = (5 + Math.random() * 90) + '%';
                        grain.style.animationDuration = (4 + Math.random() * 3) + 's';
                        container.appendChild(grain);
                        setTimeout(() => grain.remove(), 7000);
                    }
                }, 300);
            }

            if (cropName === 'Canola') {
                sceneIntervals['canola'] = setInterval(() => {
                    const container = document.getElementById('canola-particles');
                    if (container && container.querySelectorAll('.canola-petal').length < 25) {
                        const petal = document.createElement('div');
                        petal.className = 'canola-petal';
                        petal.style.left = (5 + Math.random() * 90) + '%';
                        petal.style.setProperty('--drift-x', (Math.random() * 160 - 80) + 'px');
                        petal.style.animationDuration = (10 + Math.random() * 6) + 's';
                        container.appendChild(petal);
                        setTimeout(() => petal.remove(), 16000);
                    }
                }, 800);
            }

            if (cropName === 'Cotton') {
                sceneIntervals['cotton'] = setInterval(() => {
                    const container = document.getElementById('cotton-particles');
                    if (container && container.querySelectorAll('.cotton-fluff').length < 18) {
                        const fluff = document.createElement('div');
                        fluff.className = 'cotton-fluff';
                        fluff.style.left = Math.random() * 100 + '%';
                        fluff.style.setProperty('--drift-x', (Math.random() * 200 - 100) + 'px');
                        fluff.style.animationDuration = (15 + Math.random() * 10) + 's';
                        container.appendChild(fluff);
                        setTimeout(() => fluff.remove(), 25000);
                    }
                }, 1200);
            }
        }

        // Alias for backward compatibility
        function switchCropParticles(cropName) {
            switchCropScene(cropName);
        }

        function hintThemeSpotlight(theme, cropName) {
            // Full theme change when crop is in spotlight during rotation
            const root = document.documentElement;

            // Apply full theme colors to background orbs
            root.style.setProperty('--theme-bg-1', theme.bg1);
            root.style.setProperty('--theme-bg-2', theme.bg2);
            root.style.setProperty('--theme-bg-3', theme.bg3);

            // Update accent colors
            root.style.setProperty('--theme-primary', theme.primary);
            root.style.setProperty('--theme-secondary', theme.secondary);
            root.style.setProperty('--theme-accent', theme.accent);
            root.style.setProperty('--theme-glow', theme.glow);
            root.style.setProperty('--theme-particle', theme.particle);

            // Update floating seed particles with theme colors
            const seeds = document.querySelectorAll('.seed');
            seeds.forEach((seed, i) => {
                seed.style.background = theme.seedColors[i % theme.seedColors.length];
            });

            // Update center display text hint
            const centerPromptText = document.querySelector('.center-prompt-text');
            if (centerPromptText && !selectedCrop) {
                centerPromptText.style.color = theme.secondary;
            }

            // Switch to crop-specific BIG particles
            if (cropName && currentCropParticles !== cropName) {
                switchCropParticles(cropName);
            }
        }

        function stopSpinAndSelect(crop, element) {
            if (!isSpinning && selectedCrop) {
                // Re-selection - allow changing crops after initial selection
                reselectCrop(crop, element);
                return;
            }

            isSpinning = false;
            
            // Slow down morph animation when stopped
            document.documentElement.style.setProperty('--morph-speed', '7s');

            // Create particle burst effect
            createSelectionBurst(element, crop.theme);

            // Highlight selected crop
            highlightSelectedCrop(crop, element);

            // Apply full theme
            setTimeout(() => selectCrop(crop), 200);
        }

        function reselectCrop(crop, element) {
            // Reset previous selection visuals
            cropElements.forEach(item => {
                item.el.classList.remove('selected');
                const inner = item.el.querySelector('.crop-item-inner');
                inner.style.boxShadow = '';
                inner.style.borderColor = '';
                item.el.style.opacity = '1';
                item.el.style.filter = '';
            });

            // Create burst for new selection
            createSelectionBurst(element, crop.theme);

            // Highlight new selection
            highlightSelectedCrop(crop, element);

            // Apply new theme
            selectCrop(crop);
        }

        function highlightSelectedCrop(crop, element) {
            cropElements.forEach(item => {
                const isSelected = item.el === element;
                const inner = item.el.querySelector('.crop-item-inner');

                if (isSelected) {
                    item.el.classList.add('selected');
                    item.el.style.transform = item.el.style.transform.replace(/scale\([^)]*\)/, 'scale(1.25)');
                    inner.style.boxShadow = `0 0 60px ${crop.theme.glow}, inset 0 0 25px ${crop.theme.glow}`;
                    inner.style.borderColor = crop.theme.accent;
                } else {
                    item.el.style.opacity = '0.5';
                    item.el.style.filter = 'grayscale(50%)';
                }
            });
        }

        function createSelectionBurst(element, theme) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: fixed;
                    left: ${centerX}px;
                    top: ${centerY}px;
                    width: ${4 + Math.random() * 6}px;
                    height: ${4 + Math.random() * 6}px;
                    background: ${theme.seedColors[i % theme.seedColors.length]};
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 10000;
                `;
                document.body.appendChild(particle);

                const angle = (Math.PI * 2 * i) / 20;
                const velocity = 80 + Math.random() * 60;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;

                particle.animate([
                    { transform: 'translate(-50%, -50%) scale(1)', opacity: 1 },
                    { transform: `translate(calc(-50% + ${vx}px), calc(-50% + ${vy}px)) scale(0)`, opacity: 0 }
                ], {
                    duration: 600,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => particle.remove();
            }
        }

        // Slow down on hover and click handlers
        function setupCropItemHandlers() {
            document.querySelectorAll('.crop-item').forEach((item, index) => {
                item.addEventListener('mouseenter', () => {
                    if (isSpinning) spinSpeed = 0.1;  // Slow on hover
                });

                item.addEventListener('mouseleave', () => {
                    if (isSpinning) spinSpeed = 0.3;  // Return to normal speed
                });

                // Click to select
                item.addEventListener('click', () => {
                    stopSpinAndSelect(cropsData[index], item);
                });
            });
        }

        // ===========================================
        // MOBILE MENU
        // ===========================================
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileNav = document.getElementById('mobileNav');

        function toggleMobileMenu() {
            mobileMenuToggle.classList.toggle('active');
            mobileNav.classList.toggle('active');
            document.body.style.overflow = mobileNav.classList.contains('active') ? 'hidden' : '';
        }

        mobileMenuToggle.addEventListener('click', toggleMobileMenu);

        // Close mobile menu when clicking a link
        mobileNav.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenuToggle.classList.remove('active');
                mobileNav.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // Close mobile menu on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                toggleMobileMenu();
            }
        });

        // Close mobile menu on resize to desktop
        window.addEventListener('resize', () => {
            if (window.innerWidth > 899 && mobileNav.classList.contains('active')) {
                mobileMenuToggle.classList.remove('active');
                mobileNav.classList.remove('active');
                document.body.style.overflow = '';
            }
        });

        // ===========================================
        // EVENT LISTENERS
        // ===========================================
        calcButton.addEventListener('click', calculateRent);

        // ===========================================
        // INIT
        // ===========================================
        document.addEventListener('DOMContentLoaded', () => {
            initWheel();
            setupCropItemHandlers();  // Setup click handlers after wheel items exist
            createSeeds();
            // Start auto-rotation after wheel is initialized
            setTimeout(() => initAutoRotation(), 100);
        });
    </script>
</body>
</html>
